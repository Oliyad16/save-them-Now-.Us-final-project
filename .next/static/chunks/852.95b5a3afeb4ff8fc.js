(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{852:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),i=n(2265),l=n(755),s=n(3479),a=n(9509),c=n(2538),u=n(1080),o=n(759),f=n.n(o);let d=(0,a.Au)(function({center:e,children:t,...n},r){let i=new o.Circle(e,n);return(0,c.O)(i,(0,u.sj)(r,{overlayContainer:i}))},function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)});var p=n(8369),x=n(2969);n(5046);let m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n={HIGH:"#ef4444",MEDIUM:"#f59e0b",LOW:"#22c55e"}[e]||"#6b7280";return f().divIcon({html:'\n      <div style="\n        width: '.concat(t,"px;\n        height: ").concat(t,"px;\n        border-radius: 50%;\n        background: ").concat(n,";\n        border: 3px solid #1a1a1a;\n        box-shadow: 0 0 10px ").concat(n,'50;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 10px;\n      ">\n        ').concat(e[0],"\n      </div>\n    "),className:"risk-marker",iconSize:[t+6,t+6],iconAnchor:[(t+6)/2,(t+6)/2]})};function h(e){let{riskAreas:t}=e,n=e=>Math.max(15e3,300*e),a=e=>{switch(e){case"HIGH":return{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,opacity:.6};case"MEDIUM":return{color:"#f59e0b",fillColor:"#f59e0b",fillOpacity:.08,opacity:.5};case"LOW":return{color:"#22c55e",fillColor:"#22c55e",fillOpacity:.06,opacity:.4};default:return{color:"#6b7280",fillColor:"#6b7280",fillOpacity:.05,opacity:.3}}},c=(0,i.useMemo)(()=>t.filter(e=>e.latitude&&e.longitude),[t]);return(0,r.jsxs)("div",{className:"h-96 w-full",children:[(0,r.jsxs)(l.h,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[(0,r.jsx)(s.I,{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://stadiamaps.com/">Stadia Maps</a>, \xa9 <a href="https://openmaptiles.org/">OpenMapTiles</a> \xa9 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}),c.map(e=>{let t=a(e.riskLevel);return(0,r.jsxs)("div",{children:[(0,r.jsx)(d,{center:[e.latitude,e.longitude],radius:n(e.totalCases),...t}),(0,r.jsx)(p.J,{position:[e.latitude,e.longitude],icon:m(e.riskLevel,"HIGH"===e.riskLevel?24:20),children:(0,r.jsx)(x.u,{direction:"top",offset:[0,-15],opacity:.95,children:(0,r.jsxs)("div",{className:"bg-gray-900 text-white p-4 rounded-lg border border-gray-600 min-w-72",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg text-white",children:[e.city,", ",e.state]}),(0,r.jsxs)("span",{className:"px-2 py-1 text-xs font-bold rounded ".concat("HIGH"===e.riskLevel?"bg-red-900 text-red-200":"MEDIUM"===e.riskLevel?"bg-yellow-900 text-yellow-200":"bg-green-900 text-green-200"),children:[e.riskLevel," RISK"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:[(0,r.jsx)("strong",{className:"text-pink-400",children:"Women at Risk:"})," ",e.womenAtRisk]}),(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:[(0,r.jsx)("strong",{className:"text-blue-400",children:"Children at Risk:"})," ",e.childrenAtRisk]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-white",children:e.totalCases}),(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Total Cases"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Key Risk Factors:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.riskFactors.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"bg-gray-800 text-gray-300 px-2 py-1 text-xs rounded",children:e},t)),e.riskFactors.length>3&&(0,r.jsxs)("span",{className:"bg-gray-800 text-gray-300 px-2 py-1 text-xs rounded",children:["+",e.riskFactors.length-3," more"]})]})]})]})})})]},e.id)})]},"risk-analysis-map"),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-6 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full border border-gray-600"}),(0,r.jsx)("span",{className:"text-gray-200",children:"High Risk Areas"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded-full border border-gray-600"}),(0,r.jsx)("span",{className:"text-gray-200",children:"Medium Risk Areas"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full border border-gray-600"}),(0,r.jsx)("span",{className:"text-gray-200",children:"Lower Risk Areas"})]}),(0,r.jsxs)("div",{className:"ml-auto text-gray-400",children:["AI Analysis: ",c.length," risk zones identified"]})]})]})}},5046:function(){},782:function(e,t,n){"use strict";n.d(t,{G5:function(){return c},LE:function(){return a},RA:function(){return s}});var r=n(2265),i=n(4887),l=n(1080);function s(e){return(0,r.forwardRef)(function(t,n){let{instance:i,context:s}=e(t).current;return(0,r.useImperativeHandle)(n,()=>i),null==t.children?null:r.createElement(l.UO,{value:s},t.children)})}function a(e){return(0,r.forwardRef)(function(t,n){let[l,s]=(0,r.useState)(!1),{instance:a}=e(t,s).current;(0,r.useImperativeHandle)(n,()=>a),(0,r.useEffect)(function(){l&&a.update()},[a,l,t.children]);let c=a._contentNode;return c?(0,i.createPortal)(t.children,c):null})}function c(e){return(0,r.forwardRef)(function(t,n){let{instance:i}=e(t).current;return(0,r.useImperativeHandle)(n,()=>i),null})}},1080:function(e,t,n){"use strict";n.d(t,{Hb:function(){return i},UO:function(){return a},mE:function(){return c},sj:function(){return l}});var r=n(2265);function i(e){return Object.freeze({__version:1,map:e})}function l(e,t){return Object.freeze({...e,...t})}let s=(0,r.createContext)(null),a=s.Provider;function c(){let e=(0,r.useContext)(s);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},2538:function(e,t,n){"use strict";n.d(t,{I:function(){return l},O:function(){return i}});var r=n(2265);function i(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function l(e,t){return null==t?function(t,n){let i=(0,r.useRef)();return i.current||(i.current=e(t,n)),i}:function(n,i){let l=(0,r.useRef)();l.current||(l.current=e(n,i));let s=(0,r.useRef)(n),{instance:a}=l.current;return(0,r.useEffect)(function(){s.current!==n&&(t(a,n,s.current),s.current=n)},[a,n,i]),l}}},9509:function(e,t,n){"use strict";n.d(t,{dW:function(){return d},SO:function(){return p},Au:function(){return x},Lf:function(){return m}});var r=n(782),i=n(2538),l=n(2265);function s(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}var a=n(1080);function c(e,t){let n=(0,l.useRef)();(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}var u=n(8651);function o(e,t){(0,l.useEffect)(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function f(e){return function(t){let n=(0,a.mE)(),r=e((0,u.q)(t,n),n);return s(n.map,t.attribution),c(r.current,t.eventHandlers),o(r.current,n),r}}function d(e,t){let n=f((0,i.I)(e,t));return(0,r.RA)(n)}function p(e,t){var n;let l=(n=(0,i.I)(e),function(e,r){let i=(0,a.mE)(),l=n((0,u.q)(e,i),i);return s(i.map,e.attribution),c(l.current,e.eventHandlers),t(l.current,i,e,r),l});return(0,r.LE)(l)}function x(e,t){var n;let s=(n=(0,i.I)(e,t),function(e){let t=(0,a.mE)(),r=n((0,u.q)(e,t),t);return c(r.current,e.eventHandlers),o(r.current,t),function(e,t){let n=(0,l.useRef)();(0,l.useEffect)(function(){if(t.pathOptions!==n.current){let r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}},[e,t])}(r.current,e),r});return(0,r.RA)(s)}function m(e,t){let n=f((0,i.I)(e,t));return(0,r.G5)(n)}},8651:function(e,t,n){"use strict";function r(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}n.d(t,{q:function(){return r}})},755:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(1080),i=n(759),l=n(2265);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let a=(0,l.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:a,className:c,id:u,placeholder:o,style:f,whenReady:d,zoom:p,...x},m){let[h]=(0,l.useState)({className:c,id:u,style:f}),[g,v]=(0,l.useState)(null);(0,l.useImperativeHandle)(m,()=>g?.map??null,[g]);let y=(0,l.useCallback)(l=>{if(null!==l&&null===g){let s=new i.Map(l,x);null!=n&&null!=p?s.setView(n,p):null!=e&&s.fitBounds(e,t),null!=d&&s.whenReady(d),v((0,r.Hb)(s))}},[]);(0,l.useEffect)(()=>()=>{g?.map.remove()},[g]);let b=g?l.createElement(r.UO,{value:g},a):o??null;return l.createElement("div",s({},h,{ref:y}),b)})},8369:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(9509),i=n(2538),l=n(1080),s=n(759);let a=(0,r.dW)(function({position:e,...t},n){let r=new s.Marker(e,t);return(0,i.O)(r,(0,l.sj)(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})},3479:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(9509),i=n(8651),l=n(2538),s=n(759);let a=(0,r.Lf)(function({url:e,...t},n){let r=new s.TileLayer(e,(0,i.q)(t,n));return(0,l.O)(r,n)},function(e,t,n){!function(e,t,n){let{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)})},2969:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});var r=n(9509),i=n(2538),l=n(759),s=n(2265);let a=(0,r.SO)(function(e,t){let n=new l.Tooltip(e,t.overlayContainer);return(0,i.O)(n,t)},function(e,t,{position:n},r){(0,s.useEffect)(function(){let i=t.overlayContainer;if(null==i)return;let{instance:l}=e,s=e=>{e.tooltip===l&&(null!=n&&l.setLatLng(n),l.update(),r(!0))},a=e=>{e.tooltip===l&&r(!1)};return i.on({tooltipopen:s,tooltipclose:a}),i.bindTooltip(l),function(){i.off({tooltipopen:s,tooltipclose:a}),null!=i._map&&i.unbindTooltip()}},[e,t,r,n])})}}]);