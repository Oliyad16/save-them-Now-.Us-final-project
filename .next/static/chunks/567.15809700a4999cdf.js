(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{567:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return D}});var i,n=t(7437),r=t(2265),a=t(755),l=t(2538),c=t(1080),o=t(782),d=t(759),u=t.n(d);let m=(i=(0,l.I)(function({children:e,...s},t){let i=new d.Control.Layers(void 0,void 0,s);return(0,l.O)(i,(0,c.sj)(t,{layersControl:i}))},function(e,s,t){s.collapsed!==t.collapsed&&(!0===s.collapsed?e.collapse():e.expand())}),function(e){let s=(0,c.mE)(),t=i(e,s),{instance:n}=t.current,a=(0,r.useRef)(e.position),{position:l}=e;return(0,r.useEffect)(function(){return n.addTo(s.map),function(){n.remove()}},[s.map,n]),(0,r.useEffect)(function(){null!=l&&l!==a.current&&(n.setPosition(l),a.current=l)},[n,l]),t}),x=(0,o.RA)(m);function h(e){return function(s){let t=(0,c.mE)(),i=(0,r.useRef)(s),[n,a]=(0,r.useState)(null),{layersControl:l,map:o}=t,d=(0,r.useCallback)(s=>{null!=l&&(i.current.checked&&o.addLayer(s),e(l,s,i.current.name),a(s))},[l,o]),u=(0,r.useCallback)(e=>{l?.removeLayer(e),a(null)},[l]),m=(0,r.useMemo)(()=>(0,c.sj)(t,{layerContainer:{addLayer:d,removeLayer:u}}),[t,d,u]);return(0,r.useEffect)(()=>{null!==n&&i.current!==s&&(!0===s.checked&&(null==i.current.checked||!1===i.current.checked)?o.addLayer(n):!0===i.current.checked&&(null==s.checked||!1===s.checked)&&o.removeLayer(n),i.current=s)}),s.children?r.createElement(c.UO,{value:m},s.children):null}}x.BaseLayer=h(function(e,s,t){e.addBaseLayer(s,t)}),x.Overlay=h(function(e,s,t){e.addOverlay(s,t)});var g=t(3479);let p=(0,t(9509).dW)(function({children:e,...s},t){let i=new d.LayerGroup([],s);return(0,l.O)(i,(0,c.sj)(t,{layerContainer:i}))});var f=t(8369),y=t(2969);t(5046);var j=t(8614),v=t(8239),b=t(2428),N=t(3448);let w={anonymous:0,free:1,basic:2,premium:3,hero:4,champion:5},k={anonymous:"gray",free:"gray",basic:"blue",premium:"purple",hero:"amber",champion:"red"},C={anonymous:"Guest",free:"Free Account",basic:"Basic Plan",premium:"Premium Plan",hero:"Hero Plan",champion:"Champion Plan"};function z(e){let{children:s,currentTier:t,requiredTier:i,feature:r,description:a,upgradeAction:l,className:c,showPreview:o=!1,previewContent:d}=e,u=w[t]>=w[i];k[i];let m=C[i];return u?(0,n.jsx)(n.Fragment,{children:s}):(0,n.jsxs)(v.E.div,{className:(0,N.cn)("relative",c),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[o&&(0,n.jsxs)("div",{className:"relative overflow-hidden rounded-lg",children:[(0,n.jsx)("div",{className:"blur-sm grayscale pointer-events-none",children:d||s}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"})]}),(0,n.jsx)(v.E.div,{className:(0,N.cn)("relative z-10",o?"absolute inset-0 flex items-center justify-center":""),children:(0,n.jsx)(b.Zb,{variant:"tier",tier:i,className:(0,N.cn)("text-center",o?"max-w-sm mx-auto":"w-full"),children:(0,n.jsxs)(b.aY,{className:"p-6",children:[(0,n.jsx)(v.E.div,{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-tier-".concat(i,"/20 flex items-center justify-center"),initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:(0,n.jsx)("svg",{className:"w-8 h-8 text-tier-".concat(i),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,n.jsxs)(v.E.div,{className:"inline-flex items-center px-3 py-1 rounded-full bg-tier-".concat(i,"/20 border border-tier-").concat(i,"/50 mb-4"),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-tier-".concat(i," mr-2")}),(0,n.jsxs)("span",{className:"text-sm font-medium text-white",children:[m," Required"]})]}),(0,n.jsx)(v.E.h3,{className:"text-xl font-bold text-white mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:r}),a&&(0,n.jsx)(v.E.p,{className:"text-mission-gray-400 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:a}),l&&(0,n.jsx)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,n.jsxs)(b.zx,{onClick:l,tier:i,variant:"tier",size:"lg",glow:!0,className:"w-full",children:["Upgrade to ",m]})}),"anonymous"===t&&(0,n.jsx)(v.E.p,{className:"text-xs text-mission-gray-500 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:"Create a free account to unlock basic features"})]})})})]})}let L={basic:{monthly:5,yearly:50},premium:{monthly:25,yearly:250},hero:{monthly:100,yearly:1e3},champion:{monthly:500,yearly:5e3}},M={basic:["Full map access","3 AI interactions per day","Case search & filtering","Email support"],premium:["Everything in Basic","Unlimited AI interactions","Advanced analytics","Pattern recognition insights","Priority support"],hero:["Everything in Premium","API access for integrations","Advanced clustering algorithms","Real-time notifications","Dedicated support"],champion:["Everything in Hero","Law enforcement partnership tools","Custom reporting","White-label solutions","Direct line to development team"]};function E(e){let{currentTier:s,suggestedTier:t,context:i,benefits:a,ctaText:l,onUpgrade:c,onDismiss:o,style:d="card",position:u="center",dismissible:m=!0}=e,[x,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),f=L[t],y=M[t],w=()=>{p(!0),null==o||o()},k=()=>{null==c||c(),h(!1)};if(g&&"modal"!==d)return null;let C=e=>{let{compact:s=!1}=e;return(0,n.jsx)(b.Zb,{variant:"tier",tier:t,glow:!0,className:(0,N.cn)("relative overflow-hidden",!s&&"max-w-md"),children:(0,n.jsxs)(b.aY,{className:"p-6",children:[m&&"modal"!==d&&(0,n.jsx)("button",{onClick:w,className:"absolute top-3 right-3 w-6 h-6 flex items-center justify-center rounded-full bg-mission-gray-800/50 hover:bg-mission-gray-700 text-mission-gray-400 hover:text-white transition-colors",children:(0,n.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-tier-".concat(t,"/20 border border-tier-").concat(t,"/50 mb-4"),children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-tier-".concat(t," mr-2")}),(0,n.jsxs)("span",{className:"text-sm font-medium text-white capitalize",children:[t," Plan"]})]}),(0,n.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:i}),(0,n.jsxs)("ul",{className:"space-y-2 mb-6",children:[(s?a.slice(0,3):a).map((e,s)=>(0,n.jsxs)(v.E.li,{className:"flex items-center text-sm text-mission-gray-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*s},children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-tier-".concat(t," mr-2 flex-shrink-0"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e]},s)),s&&a.length>3&&(0,n.jsxs)("li",{className:"text-sm text-mission-gray-500",children:["+",a.length-3," more benefits"]})]}),f&&(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:["$",f.monthly,(0,n.jsx)("span",{className:"text-lg text-mission-gray-400",children:"/month"})]}),(0,n.jsxs)("div",{className:"text-sm text-mission-gray-400",children:["Or $",f.yearly,"/year (2 months free)"]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(b.zx,{onClick:"modal"===d?k:()=>h(!0),tier:t,variant:"tier",size:"lg",glow:!0,className:"w-full",children:l||"Upgrade to ".concat(t)}),!s&&(0,n.jsxs)(b.zx,{onClick:()=>h(!0),variant:"ghost",size:"sm",className:"w-full",children:["View all ",y.length," benefits"]})]})]})})};return"modal"===d?(0,n.jsxs)(b.u_,{isOpen:x,onClose:()=>h(!1),size:"lg",variant:"tier",tier:t,children:[(0,n.jsx)(b.xB,{children:(0,n.jsxs)(b.r6,{children:["Upgrade to ",t," Plan"]})}),(0,n.jsx)(b.hz,{children:(0,n.jsx)(C,{})})]}):"banner"===d?(0,n.jsx)(j.M,{children:!g&&(0,n.jsx)(v.E.div,{className:(0,N.cn)("fixed left-0 right-0 z-40 p-4","top"===u?"top-0":"bottom-0"),initial:{y:"top"===u?-100:100,opacity:0},animate:{y:0,opacity:1},exit:{y:"top"===u?-100:100,opacity:0},children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsx)(C,{compact:!0})})})}):"floating"===d?(0,n.jsx)(j.M,{children:!g&&(0,n.jsx)(v.E.div,{className:"fixed bottom-6 right-6 z-40 max-w-sm",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:(0,n.jsx)(C,{compact:!0})})}):(0,n.jsx)(j.M,{children:!g&&(0,n.jsxs)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[(0,n.jsx)(C,{}),(0,n.jsxs)(b.u_,{isOpen:x,onClose:()=>h(!1),size:"lg",variant:"tier",tier:t,children:[(0,n.jsx)(b.xB,{children:(0,n.jsxs)(b.r6,{className:"capitalize",children:[t," Plan Benefits"]})}),(0,n.jsx)(b.hz,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-white mb-4",children:"Everything included:"}),(0,n.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.map((e,s)=>(0,n.jsxs)(v.E.li,{className:"flex items-center text-sm text-mission-gray-300",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*s},children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-tier-".concat(t," mr-2 flex-shrink-0"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e]},s))})]}),f&&(0,n.jsxs)("div",{className:"text-center p-6 bg-mission-gray-800/50 rounded-lg",children:[(0,n.jsxs)("div",{className:"text-3xl font-bold text-white mb-2",children:["$",f.monthly,(0,n.jsx)("span",{className:"text-xl text-mission-gray-400",children:"/month"})]}),(0,n.jsxs)("div",{className:"text-mission-gray-400 mb-4",children:["Or $",f.yearly,"/year (save $",12*f.monthly-f.yearly,")"]}),(0,n.jsxs)(b.zx,{onClick:k,tier:t,variant:"tier",size:"lg",glow:!0,className:"w-full max-w-xs",children:["Start ",t," Plan"]})]})]})})]})]})})}function R(e){let{children:s,feature:t,description:i,currentTier:a,requiredTier:l,benefits:c,className:o,style:d="blur",interactionCount:u=0,maxInteractions:m=1,onUpgrade:x}=e,[h,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),y=u<m,j=()=>{!p&&y?(f(!0),setTimeout(()=>g(!0),2e3)):g(!0)};return"blur"===d?(0,n.jsxs)("div",{className:(0,N.cn)("relative overflow-hidden rounded-lg",o),children:[(0,n.jsx)(v.E.div,{className:(0,N.cn)("transition-all duration-500",p&&y?"blur-0":"blur-md grayscale"),children:s}),(!p||!y)&&(0,n.jsx)(v.E.div,{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-black/20 flex items-center justify-center cursor-pointer",onClick:j,whileHover:{backgroundColor:"rgba(0,0,0,0.8)"},children:(0,n.jsx)(b.Zb,{variant:"tier",tier:l,className:"max-w-sm mx-4",children:(0,n.jsxs)(b.aY,{className:"p-6 text-center",children:[(0,n.jsx)(v.E.div,{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-tier-".concat(l,"/20 flex items-center justify-center"),animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,n.jsxs)("svg",{className:"w-6 h-6 text-tier-".concat(l),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,n.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:t}),(0,n.jsx)("p",{className:"text-sm text-mission-gray-400 mb-4",children:i}),y&&!p?(0,n.jsxs)(b.zx,{variant:"ghost",size:"sm",children:["\uD83D\uDC41️ Preview (",m-u," left)"]}):(0,n.jsx)(b.zx,{tier:l,variant:"tier",size:"sm",glow:!0,children:"Unlock Now"})]})})}),h&&(0,n.jsx)(E,{currentTier:a,suggestedTier:l,context:"Unlock ".concat(t),benefits:c,onUpgrade:x,onDismiss:()=>g(!1),style:"modal"})]}):"overlay"===d?(0,n.jsxs)("div",{className:(0,N.cn)("relative",o),children:[s,(0,n.jsx)(v.E.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},children:(0,n.jsx)(b.Zb,{variant:"tier",tier:l,glow:!0,children:(0,n.jsxs)(b.aY,{className:"p-8 text-center max-w-md",children:[(0,n.jsx)(v.E.div,{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-badge flex items-center justify-center",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD13"})}),(0,n.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:t}),(0,n.jsx)("p",{className:"text-mission-gray-400 mb-6",children:i}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(b.zx,{onClick:()=>g(!0),tier:l,variant:"tier",size:"lg",glow:!0,className:"w-full",children:"Unlock Feature"}),(0,n.jsx)(b.zx,{onClick:j,variant:"ghost",size:"sm",className:"w-full",disabled:!y,children:y?"Preview (".concat(m-u," left)"):"Preview Used"})]})]})})}),h&&(0,n.jsx)(E,{currentTier:a,suggestedTier:l,context:"Unlock ".concat(t),benefits:c,onUpgrade:x,onDismiss:()=>g(!1),style:"modal"})]}):"grid"===d?(0,n.jsxs)("div",{className:(0,N.cn)("relative overflow-hidden rounded-lg border-2 border-dashed border-mission-gray-700",o),children:[(0,n.jsx)("div",{className:"blur-sm grayscale opacity-50",children:s}),(0,n.jsx)(v.E.div,{className:"absolute inset-0 flex items-center justify-center bg-mission-gray-900/80",initial:{opacity:0},animate:{opacity:1},children:(0,n.jsxs)("div",{className:"text-center p-6",children:[(0,n.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full bg-tier-".concat(l,"/20 flex items-center justify-center"),children:(0,n.jsx)("svg",{className:"w-6 h-6 text-tier-".concat(l),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,n.jsx)("h4",{className:"font-semibold text-white mb-2",children:t}),(0,n.jsx)("p",{className:"text-sm text-mission-gray-400 mb-4",children:i}),(0,n.jsx)(b.zx,{onClick:()=>g(!0),tier:l,variant:"tier",size:"sm",children:"Unlock"})]})}),h&&(0,n.jsx)(E,{currentTier:a,suggestedTier:l,context:"Unlock ".concat(t),benefits:c,onUpgrade:x,onDismiss:()=>g(!1),style:"modal"})]}):"peek"===d?(0,n.jsxs)("div",{className:(0,N.cn)("relative overflow-hidden rounded-lg",o),children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"h-32 overflow-hidden",children:s}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-mission-gray-900 to-transparent"})]}),(0,n.jsx)("div",{className:"p-4 bg-mission-gray-800/50 border-t border-mission-gray-700",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold text-white text-sm",children:t}),(0,n.jsx)("p",{className:"text-xs text-mission-gray-400",children:i})]}),(0,n.jsx)(b.zx,{onClick:()=>g(!0),tier:l,variant:"tier",size:"sm",children:"View All"})]})}),h&&(0,n.jsx)(E,{currentTier:a,suggestedTier:l,context:"Unlock ".concat(t),benefits:c,onUpgrade:x,onDismiss:()=>g(!1),style:"modal"})]}):(0,n.jsx)(n.Fragment,{children:s})}let A=["Runaway","Abduction","Lost/Missing","Mental Health Related","Substance Abuse Related","Domestic Violence Related","Medical Emergency","Alzheimer's/Dementia","Other"];function S(e){let{filters:s,onFiltersChange:t,currentTier:i,onUpgrade:a,className:l}=e,[c,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),m=(e,i)=>{t({...s,[e]:i})},x=e=>{let{title:s,children:t,requiredTier:r,isOpen:l=!1}=e,c=!r||"anonymous"!==i&&("basic"===r||"premium"===r&&["premium","hero","champion"].includes(i)||"hero"===r&&["hero","champion"].includes(i));return(0,n.jsxs)(v.E.div,{className:"border-b border-mission-gray-700 last:border-b-0",initial:!1,children:[(0,n.jsxs)("button",{className:"w-full p-4 flex items-center justify-between text-left hover:bg-mission-gray-800/50 transition-colors",onClick:()=>u(d===s?null:s),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("span",{className:"font-medium text-white",children:s}),r&&!c&&(0,n.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-tier-".concat(r,"/20 border border-tier-").concat(r,"/50 text-tier-").concat(r),children:r})]}),(0,n.jsx)(v.E.svg,{className:"w-5 h-5 text-mission-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",animate:{rotate:d===s?180:0},transition:{duration:.2},children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,n.jsx)(j.M,{children:d===s&&(0,n.jsx)(v.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,n.jsx)("div",{className:"p-4 pt-0",children:c?t:(0,n.jsx)(z,{currentTier:i,requiredTier:r,feature:"Advanced ".concat(s),description:"Unlock enhanced filtering options for ".concat(s.toLowerCase()),upgradeAction:a,children:(0,n.jsx)("div",{})})})})})]})};return(0,n.jsx)(b.Zb,{className:(0,N.cn)("w-full max-w-sm",l),children:(0,n.jsxs)(b.aY,{className:"p-0",children:[(0,n.jsx)("div",{className:"p-4 border-b border-mission-gray-700",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"font-semibold text-white",children:"Map Filters"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-xs text-mission-gray-400",children:[Object.values(s).filter(e=>e&&""!==e&&(!Array.isArray(e)||e.length>0)).length," active"]}),(0,n.jsx)(b.zx,{variant:"ghost",size:"xs",onClick:()=>t({category:"",status:"",ageRange:[0,100],gender:"",dateRange:[null,null],location:"",radius:50,ethnicity:"",circumstances:[],riskLevel:"",timeSinceMissing:""}),children:"Clear"})]})]})}),(0,n.jsx)(x,{title:"Basic Search",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Category"}),(0,n.jsxs)("select",{value:s.category,onChange:e=>m("category",e.target.value),className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary",children:[(0,n.jsx)("option",{value:"",children:"All Categories"}),(0,n.jsx)("option",{value:"Missing Adults",children:"Missing Adults"}),(0,n.jsx)("option",{value:"Missing Children",children:"Missing Children"}),(0,n.jsx)("option",{value:"Missing Veterans",children:"Missing Veterans"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Status"}),(0,n.jsxs)("select",{value:s.status,onChange:e=>m("status",e.target.value),className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary",children:[(0,n.jsx)("option",{value:"",children:"All Status"}),(0,n.jsx)("option",{value:"Active",children:"Active"}),(0,n.jsx)("option",{value:"Cold Case",children:"Cold Case"}),(0,n.jsx)("option",{value:"Resolved",children:"Resolved"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Location"}),(0,n.jsx)("input",{type:"text",value:s.location,onChange:e=>m("location",e.target.value),placeholder:"Enter city, state, or ZIP",className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary placeholder-mission-gray-500"})]})]})}),(0,n.jsx)(x,{title:"Advanced Search",requiredTier:"premium",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:["Age Range: ",s.ageRange[0]," - ",s.ageRange[1]]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"range",min:"0",max:"100",value:s.ageRange[0],onChange:e=>m("ageRange",[Number(e.target.value),s.ageRange[1]]),className:"flex-1"}),(0,n.jsx)("input",{type:"range",min:"0",max:"100",value:s.ageRange[1],onChange:e=>m("ageRange",[s.ageRange[0],Number(e.target.value)]),className:"flex-1"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Gender"}),(0,n.jsxs)("select",{value:s.gender,onChange:e=>m("gender",e.target.value),className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary",children:[(0,n.jsx)("option",{value:"",children:"All Genders"}),(0,n.jsx)("option",{value:"Male",children:"Male"}),(0,n.jsx)("option",{value:"Female",children:"Female"}),(0,n.jsx)("option",{value:"Non-binary",children:"Non-binary"}),(0,n.jsx)("option",{value:"Unknown",children:"Unknown"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:["Search Radius: ",s.radius," miles"]}),(0,n.jsx)("input",{type:"range",min:"1",max:"500",value:s.radius,onChange:e=>m("radius",Number(e.target.value)),className:"w-full"})]})]})}),(0,n.jsx)(x,{title:"Expert Analysis",requiredTier:"hero",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Risk Level"}),(0,n.jsxs)("select",{value:s.riskLevel,onChange:e=>m("riskLevel",e.target.value),className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary",children:[(0,n.jsx)("option",{value:"",children:"All Risk Levels"}),(0,n.jsx)("option",{value:"Low",children:"Low Risk"}),(0,n.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,n.jsx)("option",{value:"High",children:"High Risk"}),(0,n.jsx)("option",{value:"Critical",children:"Critical"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Circumstances"}),(0,n.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:A.map(e=>(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:s.circumstances.includes(e),onChange:t=>{t.target.checked?m("circumstances",[...s.circumstances,e]):m("circumstances",s.circumstances.filter(s=>s!==e))},className:"rounded border-mission-gray-700 text-mission-primary focus:ring-mission-primary focus:ring-offset-black"}),(0,n.jsx)("span",{className:"ml-2 text-sm text-mission-gray-300",children:e})]},e))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-mission-gray-300 mb-2",children:"Time Since Missing"}),(0,n.jsxs)("select",{value:s.timeSinceMissing,onChange:e=>m("timeSinceMissing",e.target.value),className:"w-full px-3 py-2 bg-mission-gray-800 border border-mission-gray-700 text-white rounded-lg focus:ring-2 focus:ring-mission-primary focus:border-mission-primary",children:[(0,n.jsx)("option",{value:"",children:"Any Time"}),(0,n.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,n.jsx)("option",{value:"7d",children:"Last Week"}),(0,n.jsx)("option",{value:"30d",children:"Last Month"}),(0,n.jsx)("option",{value:"90d",children:"Last 3 Months"}),(0,n.jsx)("option",{value:"1y",children:"Last Year"}),(0,n.jsx)("option",{value:"5y",children:"Last 5 Years"})]})]})]})}),"champion"===i&&(0,n.jsx)(x,{title:"Saved Searches",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(b.zx,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"\uD83D\uDCCC High-Risk Children Cases"}),(0,n.jsx)(b.zx,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"\uD83D\uDCCC Recent Missing Veterans"}),(0,n.jsx)(b.zx,{variant:"ghost",size:"sm",className:"w-full justify-start",children:"\uD83D\uDCCC Cold Cases - Adults"}),(0,n.jsx)(b.zx,{variant:"primary",size:"sm",className:"w-full",children:"Save Current Search"})]})})]})})}delete u().Icon.Default.prototype._getIconUrl,u().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let O=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"md",i={sm:8,md:12,lg:16}[t],n={"Missing Adults":"#60a5fa","Missing Children":"#f87171","Missing Veterans":"#4ade80"}[e]||"#60a5fa",r=s?({Low:"#10b981",Medium:"#f59e0b",High:"#ef4444",Critical:"#dc2626"})[s]:n,a=s?'\n    <div style="\n      width: '.concat(i+4,"px;\n      height: ").concat(i+4,"px;\n      border-radius: 50%;\n      background-color: ").concat(r,";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      box-shadow: 0 0 8px rgba(255,255,255,0.4);\n      animation: ").concat("Critical"===s?"pulse 1s infinite":"none",';\n    ">\n      <div style="\n        width: ').concat(i,"px;\n        height: ").concat(i,"px;\n        border-radius: 50%;\n        background-color: ").concat(n,';\n      "></div>\n    </div>\n  '):'\n    <div style="\n      width: '.concat(i,"px;\n      height: ").concat(i,"px;\n      border-radius: 50%;\n      background-color: ").concat(n,';\n      box-shadow: 0 0 4px rgba(255,255,255,0.3);\n      transition: all 0.2s ease;\n      cursor: pointer;\n    "></div>\n  ');return u().divIcon({html:a,className:"custom-enhanced-marker",iconSize:[i+(s?4:0),i+(s?4:0)],iconAnchor:[(i+(s?4:0))/2,(i+(s?4:0))/2]})},I=(e,s)=>{let t="Missing Children"===s?"#f87171":"Missing Veterans"===s?"#4ade80":"#60a5fa";return u().divIcon({html:'\n      <div style="\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        background: linear-gradient(135deg, '.concat(t,"40, ").concat(t,"80);\n        border: 2px solid ").concat(t,';\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n        font-size: 12px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n      ">\n        ').concat(e,"\n      </div>\n    "),className:"custom-cluster-marker",iconSize:[40,40],iconAnchor:[20,20]})};function D(e){let{persons:s,currentTier:t,onUpgrade:i,className:l}=e,[c,o]=(0,r.useState)({category:"",status:"",ageRange:[0,100],gender:"",dateRange:[null,null],location:"",radius:50,ethnicity:"",circumstances:[],riskLevel:"",timeSinceMissing:""}),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)("individual"),[w,k]=(0,r.useState)(null),C=(0,r.useMemo)(()=>{let e=s.filter(e=>e.latitude&&e.longitude);return c.category&&(e=e.filter(e=>e.category===c.category)),c.status&&(e=e.filter(e=>e.status===c.status)),c.location&&(e=e.filter(e=>{var s;return null===(s=e.location)||void 0===s?void 0:s.toLowerCase().includes(c.location.toLowerCase())})),"anonymous"!==t&&["premium","hero","champion"].includes(t)&&(c.gender&&(e=e.filter(e=>e.gender===c.gender)),(c.ageRange[0]>0||c.ageRange[1]<100)&&(e=e.filter(e=>{let s=e.age||0;return s>=c.ageRange[0]&&s<=c.ageRange[1]}))),["hero","champion"].includes(t)&&c.circumstances.length>0&&(e=e.filter(e=>c.circumstances.some(s=>{var t;return null===(t=e.circumstances)||void 0===t?void 0:t.includes(s)}))),e},[s,c,t]),L=(0,r.useMemo)(()=>{if("anonymous"===t||"clustered"!==m)return[];let e=new Map;return C.forEach(s=>{let t=.1*Math.round(s.latitude/.1),i=.1*Math.round(s.longitude/.1),n="".concat(t,"-").concat(i);if(e.has(n)){let t=e.get(n);t.count++,t.persons.push(s)}else e.set(n,{id:n,latitude:t,longitude:i,count:1,category:s.category,persons:[s]})}),Array.from(e.values()).filter(e=>e.count>1)},[C,t,m]),M=e=>{let s=["hero","champion"].includes(t)?e.riskLevel:void 0;return O(e.category,s)},E="anonymous"!==t,A=["premium","hero","champion"].includes(t),D=["hero","champion"].includes(t);return(0,n.jsxs)("div",{className:(0,N.cn)("relative",l),children:[(0,n.jsxs)("div",{className:"absolute top-4 left-4 z-10 space-y-2",children:[(0,n.jsx)(b.Zb,{className:"p-2",children:(0,n.jsx)(b.aY,{className:"p-0",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(b.zx,{variant:d?"primary":"ghost",size:"sm",onClick:()=>u(!d),children:"\uD83D\uDD0D Filters"}),E?(0,n.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"px-2 py-1 bg-mission-gray-800 border border-mission-gray-700 text-white rounded text-sm",children:[(0,n.jsx)("option",{value:"individual",children:"Individual"}),(0,n.jsx)("option",{value:"clustered",children:"Clustered"}),A&&(0,n.jsx)("option",{value:"heatmap",children:"Heatmap"})]}):(0,n.jsx)(z,{currentTier:t,requiredTier:"basic",feature:"View Modes",upgradeAction:i,showPreview:!0,previewContent:(0,n.jsxs)("select",{className:"px-2 py-1 bg-mission-gray-800 border border-mission-gray-700 text-white rounded text-sm",children:[(0,n.jsx)("option",{children:"Clustered View"}),(0,n.jsx)("option",{children:"Heatmap View"})]}),children:(0,n.jsx)("div",{})})]})})}),D&&(0,n.jsx)(b.Zb,{className:"p-2",children:(0,n.jsxs)(b.aY,{className:"p-0 flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-xs text-mission-gray-300",children:"Live Updates"})]})})]}),(0,n.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,n.jsx)(b.Zb,{className:"p-3",children:(0,n.jsx)(b.aY,{className:"p-0",children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"text-sm font-medium text-white",children:[C.length," cases"]}),"clustered"===m&&L.length>0&&(0,n.jsxs)("div",{className:"text-xs text-mission-gray-400",children:[L.length," clusters"]}),(0,n.jsxs)("div",{className:"text-xs text-mission-gray-400",children:[C.filter(e=>"Missing Children"===e.category).length," children"]})]})})})}),(0,n.jsx)(j.M,{children:d&&(0,n.jsx)(v.E.div,{className:"absolute top-16 left-4 z-20",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:(0,n.jsx)(S,{filters:c,onFiltersChange:o,currentTier:t,onUpgrade:i})})}),(0,n.jsx)("div",{className:"h-96 w-full rounded-lg overflow-hidden",children:"heatmap"!==m||A?(0,n.jsxs)(a.h,{center:[39.8283,-98.5795],zoom:4,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[(0,n.jsxs)(x,{position:"bottomright",children:[(0,n.jsx)(x.BaseLayer,{checked:!0,name:"Dark Mode",children:(0,n.jsx)(g.I,{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://stadiamaps.com/">Stadia Maps</a>'})}),A&&(0,n.jsx)(x.BaseLayer,{name:"Satellite",children:(0,n.jsx)(g.I,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:'\xa9 <a href="https://www.esri.com/">Esri</a>'})})]}),"individual"===m&&(0,n.jsx)(p,{children:C.map(e=>(0,n.jsx)(f.J,{position:[e.latitude,e.longitude],icon:M(e),children:(0,n.jsx)(y.u,{direction:"top",offset:[0,-10],opacity:.9,permanent:!1,children:(0,n.jsxs)("div",{className:"bg-mission-gray-900 text-white p-3 rounded-lg border border-mission-gray-600 min-w-64",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg mb-2 text-white",children:e.name}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Case:"})," ",e.caseNumber]}),(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Age:"})," ",e.age," years"]}),(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Location:"})," ",e.location]}),(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Reported:"})," ",e.reportedMissing]}),A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Gender:"})," ",e.gender]}),e.ethnicity&&(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Ethnicity:"})," ",e.ethnicity]})]}),["hero","champion"].includes(t)&&(0,n.jsxs)(n.Fragment,{children:[e.riskLevel&&(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Risk Level:"}),(0,n.jsx)("span",{className:(0,N.cn)("ml-1 px-2 py-1 rounded text-xs","Critical"===e.riskLevel?"bg-red-900 text-red-200":"High"===e.riskLevel?"bg-orange-900 text-orange-200":"Medium"===e.riskLevel?"bg-yellow-900 text-yellow-200":"bg-green-900 text-green-200"),children:e.riskLevel})]}),e.circumstances&&(0,n.jsxs)("p",{className:"text-mission-gray-300",children:[(0,n.jsx)("strong",{className:"text-white",children:"Circumstances:"})," ",e.circumstances]})]})]}),(0,n.jsx)("span",{className:(0,N.cn)("inline-block px-2 py-1 text-xs rounded-full mt-2","Missing Children"===e.category?"bg-red-900 text-red-200 border border-red-700":"Missing Veterans"===e.category?"bg-green-900 text-green-200 border border-green-700":"bg-blue-900 text-blue-200 border border-blue-700"),children:e.category})]})})},e.id))}),"clustered"===m&&E&&(0,n.jsxs)(p,{children:[C.filter(e=>!L.some(s=>s.persons.some(s=>s.id===e.id))).map(e=>(0,n.jsx)(f.J,{position:[e.latitude,e.longitude],icon:M(e),children:(0,n.jsx)(y.u,{direction:"top",offset:[0,-10],opacity:.9,children:(0,n.jsxs)("div",{className:"bg-mission-gray-900 text-white p-3 rounded-lg",children:[(0,n.jsx)("h3",{className:"font-semibold",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-mission-gray-300",children:e.location})]})})},e.id)),L.map(e=>(0,n.jsx)(f.J,{position:[e.latitude,e.longitude],icon:I(e.count,e.category),eventHandlers:{click:()=>k(e)},children:(0,n.jsx)(y.u,{direction:"top",offset:[0,-20],opacity:.9,children:(0,n.jsxs)("div",{className:"bg-mission-gray-900 text-white p-3 rounded-lg",children:[(0,n.jsxs)("h3",{className:"font-semibold",children:[e.count," Cases"]}),(0,n.jsx)("p",{className:"text-sm text-mission-gray-300",children:"Click to view details"})]})})},e.id))]})]}):(0,n.jsx)(R,{currentTier:t,requiredTier:"premium",feature:"Heatmap View",description:"Visualize missing person data with advanced heatmap analytics",benefits:["Heat density visualization","Risk area identification","Pattern recognition","Geographic insights"],onUpgrade:i,style:"overlay",children:(0,n.jsx)("div",{className:"h-96 bg-mission-gray-800 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-mission-gray-500",children:"Heatmap Visualization"})})})}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),(0,n.jsx)("span",{className:"text-mission-gray-200",children:"Missing Adults"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded-full"}),(0,n.jsx)("span",{className:"text-mission-gray-200",children:"Missing Children"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,n.jsx)("span",{className:"text-mission-gray-200",children:"Missing Veterans"})]}),["hero","champion"].includes(t)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-red-600 rounded-full animate-pulse"}),(0,n.jsx)("span",{className:"text-mission-gray-200",children:"Critical Risk"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),(0,n.jsx)("span",{className:"text-mission-gray-200",children:"High Risk"})]})]}),(0,n.jsxs)("div",{className:"ml-auto text-mission-gray-400",children:[C.length," of ",s.length," cases shown"]})]}),w&&(0,n.jsx)(v.E.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",initial:{opacity:0},animate:{opacity:1},onClick:()=>k(null),children:(0,n.jsxs)(v.E.div,{className:"bg-mission-gray-900 border border-mission-gray-800 rounded-lg p-6 max-w-md w-full max-h-96 overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-white mb-4",children:[w.count," Cases in This Area"]}),(0,n.jsx)("div",{className:"space-y-3",children:w.persons.map(e=>(0,n.jsxs)("div",{className:"p-3 bg-mission-gray-800 rounded border-l-4 border-mission-primary",children:[(0,n.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,n.jsxs)("p",{className:"text-sm text-mission-gray-300",children:[e.age," years old"]}),(0,n.jsx)("p",{className:"text-sm text-mission-gray-400",children:e.location}),(0,n.jsx)("span",{className:(0,N.cn)("inline-block px-2 py-1 text-xs rounded mt-1","Missing Children"===e.category?"bg-red-900 text-red-200":"Missing Veterans"===e.category?"bg-green-900 text-green-200":"bg-blue-900 text-blue-200"),children:e.category})]},e.id))}),(0,n.jsx)(b.zx,{onClick:()=>k(null),variant:"ghost",className:"w-full mt-4",children:"Close"})]})})]})}},5046:function(){},782:function(e,s,t){"use strict";t.d(s,{G5:function(){return c},LE:function(){return l},RA:function(){return a}});var i=t(2265),n=t(4887),r=t(1080);function a(e){return(0,i.forwardRef)(function(s,t){let{instance:n,context:a}=e(s).current;return(0,i.useImperativeHandle)(t,()=>n),null==s.children?null:i.createElement(r.UO,{value:a},s.children)})}function l(e){return(0,i.forwardRef)(function(s,t){let[r,a]=(0,i.useState)(!1),{instance:l}=e(s,a).current;(0,i.useImperativeHandle)(t,()=>l),(0,i.useEffect)(function(){r&&l.update()},[l,r,s.children]);let c=l._contentNode;return c?(0,n.createPortal)(s.children,c):null})}function c(e){return(0,i.forwardRef)(function(s,t){let{instance:n}=e(s).current;return(0,i.useImperativeHandle)(t,()=>n),null})}},1080:function(e,s,t){"use strict";t.d(s,{Hb:function(){return n},UO:function(){return l},mE:function(){return c},sj:function(){return r}});var i=t(2265);function n(e){return Object.freeze({__version:1,map:e})}function r(e,s){return Object.freeze({...e,...s})}let a=(0,i.createContext)(null),l=a.Provider;function c(){let e=(0,i.useContext)(a);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},2538:function(e,s,t){"use strict";t.d(s,{I:function(){return r},O:function(){return n}});var i=t(2265);function n(e,s,t){return Object.freeze({instance:e,context:s,container:t})}function r(e,s){return null==s?function(s,t){let n=(0,i.useRef)();return n.current||(n.current=e(s,t)),n}:function(t,n){let r=(0,i.useRef)();r.current||(r.current=e(t,n));let a=(0,i.useRef)(t),{instance:l}=r.current;return(0,i.useEffect)(function(){a.current!==t&&(s(l,t,a.current),a.current=t)},[l,t,n]),r}}},9509:function(e,s,t){"use strict";t.d(s,{dW:function(){return m},SO:function(){return x},Au:function(){return h},Lf:function(){return g}});var i=t(782),n=t(2538),r=t(2265);function a(e,s){let t=(0,r.useRef)(s);(0,r.useEffect)(function(){s!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=s&&e.attributionControl.addAttribution(s)),t.current=s},[e,s])}var l=t(1080);function c(e,s){let t=(0,r.useRef)();(0,r.useEffect)(function(){return null!=s&&e.instance.on(s),t.current=s,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,s])}var o=t(8651);function d(e,s){(0,r.useEffect)(function(){return(s.layerContainer??s.map).addLayer(e.instance),function(){s.layerContainer?.removeLayer(e.instance),s.map.removeLayer(e.instance)}},[s,e])}function u(e){return function(s){let t=(0,l.mE)(),i=e((0,o.q)(s,t),t);return a(t.map,s.attribution),c(i.current,s.eventHandlers),d(i.current,t),i}}function m(e,s){let t=u((0,n.I)(e,s));return(0,i.RA)(t)}function x(e,s){var t;let r=(t=(0,n.I)(e),function(e,i){let n=(0,l.mE)(),r=t((0,o.q)(e,n),n);return a(n.map,e.attribution),c(r.current,e.eventHandlers),s(r.current,n,e,i),r});return(0,i.LE)(r)}function h(e,s){var t;let a=(t=(0,n.I)(e,s),function(e){let s=(0,l.mE)(),i=t((0,o.q)(e,s),s);return c(i.current,e.eventHandlers),d(i.current,s),function(e,s){let t=(0,r.useRef)();(0,r.useEffect)(function(){if(s.pathOptions!==t.current){let i=s.pathOptions??{};e.instance.setStyle(i),t.current=i}},[e,s])}(i.current,e),i});return(0,i.RA)(a)}function g(e,s){let t=u((0,n.I)(e,s));return(0,i.G5)(t)}},8651:function(e,s,t){"use strict";function i(e,s){let t=e.pane??s.pane;return t?{...e,pane:t}:e}t.d(s,{q:function(){return i}})},755:function(e,s,t){"use strict";t.d(s,{h:function(){return l}});var i=t(1080),n=t(759),r=t(2265);function a(){return(a=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}let l=(0,r.forwardRef)(function({bounds:e,boundsOptions:s,center:t,children:l,className:c,id:o,placeholder:d,style:u,whenReady:m,zoom:x,...h},g){let[p]=(0,r.useState)({className:c,id:o,style:u}),[f,y]=(0,r.useState)(null);(0,r.useImperativeHandle)(g,()=>f?.map??null,[f]);let j=(0,r.useCallback)(r=>{if(null!==r&&null===f){let a=new n.Map(r,h);null!=t&&null!=x?a.setView(t,x):null!=e&&a.fitBounds(e,s),null!=m&&a.whenReady(m),y((0,i.Hb)(a))}},[]);(0,r.useEffect)(()=>()=>{f?.map.remove()},[f]);let v=f?r.createElement(i.UO,{value:f},l):d??null;return r.createElement("div",a({},p,{ref:j}),v)})},8369:function(e,s,t){"use strict";t.d(s,{J:function(){return l}});var i=t(9509),n=t(2538),r=t(1080),a=t(759);let l=(0,i.dW)(function({position:e,...s},t){let i=new a.Marker(e,s);return(0,n.O)(i,(0,r.sj)(t,{overlayContainer:i}))},function(e,s,t){s.position!==t.position&&e.setLatLng(s.position),null!=s.icon&&s.icon!==t.icon&&e.setIcon(s.icon),null!=s.zIndexOffset&&s.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(s.zIndexOffset),null!=s.opacity&&s.opacity!==t.opacity&&e.setOpacity(s.opacity),null!=e.dragging&&s.draggable!==t.draggable&&(!0===s.draggable?e.dragging.enable():e.dragging.disable())})},3479:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var i=t(9509),n=t(8651),r=t(2538),a=t(759);let l=(0,i.Lf)(function({url:e,...s},t){let i=new a.TileLayer(e,(0,n.q)(s,t));return(0,r.O)(i,t)},function(e,s,t){!function(e,s,t){let{opacity:i,zIndex:n}=s;null!=i&&i!==t.opacity&&e.setOpacity(i),null!=n&&n!==t.zIndex&&e.setZIndex(n)}(e,s,t);let{url:i}=s;null!=i&&i!==t.url&&e.setUrl(i)})},2969:function(e,s,t){"use strict";t.d(s,{u:function(){return l}});var i=t(9509),n=t(2538),r=t(759),a=t(2265);let l=(0,i.SO)(function(e,s){let t=new r.Tooltip(e,s.overlayContainer);return(0,n.O)(t,s)},function(e,s,{position:t},i){(0,a.useEffect)(function(){let n=s.overlayContainer;if(null==n)return;let{instance:r}=e,a=e=>{e.tooltip===r&&(null!=t&&r.setLatLng(t),r.update(),i(!0))},l=e=>{e.tooltip===r&&i(!1)};return n.on({tooltipopen:a,tooltipclose:l}),n.bindTooltip(r),function(){n.off({tooltipopen:a,tooltipclose:l}),null!=n._map&&n.unbindTooltip()}},[e,s,i,t])})}}]);