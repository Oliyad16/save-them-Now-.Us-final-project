(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{7260:function(e,t,s){Promise.resolve().then(s.bind(s,5019))},5019:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var i=s(7437),a=s(2265),r=s(605),n=s(9376),o=s(7648),l=s(8239),c=s(8614),d=s(2428);let u=[{id:"guardian_angel",name:"Crisis Responder",description:"Made your first donation to fight the kidnapping crisis",icon:"\uD83D\uDEA8",category:"donation",tier:1,requirement:"$5+ donation",color:"badge-guardian",requirements:[{type:"donation_amount",value:5,timeframe:"all_time"}],story:"Every crisis fighter starts with a single action. Your first donation shows you're ready to use technology to battle child kidnapping and save lives.",benefits:["Crisis Responder status","Impact tracking dashboard","Crisis alerts"],rarity:"common",points:10},{id:"hope_bringer",name:"Search Coordinator",description:"Funded $25+ worth of AI-powered search technology",icon:"\uD83D\uDD0D",category:"donation",tier:2,requirement:"$25+ donation",color:"badge-hope",requirements:[{type:"donation_amount",value:25,timeframe:"all_time"}],story:"Technology saves lives. Your $25+ contribution powers AI searches that detect patterns human investigators miss, directly helping locate missing children.",benefits:["Search Coordinator status","AI search reports","Priority case alerts"],rarity:"common",points:25},{id:"life_saver",name:"Technology Warrior",description:"Powered $100+ in crisis-fighting technology systems",icon:"⚔️",category:"donation",tier:3,requirement:"$100+ donation",color:"badge-lifesaver",requirements:[{type:"donation_amount",value:100,timeframe:"all_time"}],story:"You are fighting with the most powerful weapon: technology. Your $100+ funds AI systems, rapid response networks, and detection algorithms that save children's lives.",benefits:["Technology Warrior status","Advanced system access","Crisis response coordination"],rarity:"rare",points:100},{id:"missing_hero_champion",name:"Missing Hero Champion",description:"Donated $500+ to champion missing persons causes",icon:"\uD83E\uDDB8",category:"donation",tier:4,requirement:"$500+ donation",color:"badge-hero",requirements:[{type:"donation_amount",value:500,timeframe:"all_time"}],story:"Heroes are made by their actions. Your $500+ donation makes you a true champion for missing persons, funding major search operations and technology development.",benefits:["Hero Champion status","Personal thank you call","Beta feature access","Annual impact meeting"],rarity:"epic",points:500},{id:"diamond_defender",name:"Diamond Defender",description:"Ultimate protector with $1000+ in total donations",icon:"\uD83D\uDC8E",category:"donation",tier:5,requirement:"$1000+ total",color:"badge-diamond",requirements:[{type:"donation_amount",value:1e3,timeframe:"all_time"}],story:"Diamonds are forever, and so is your impact. Your $1000+ total contribution establishes you as a Diamond Defender, supporting countless families and funding breakthrough technologies.",benefits:["Diamond Defender status","Annual appreciation event","Direct line to leadership","Custom impact reports"],rarity:"legendary",points:1e3},{id:"case_detective",name:"Crisis Analyst",description:"Used AI systems 10+ times to analyze kidnapping patterns",icon:"\uD83E\uDD16",category:"engagement",tier:1,requirement:"10 AI interactions",color:"badge-detective",requirements:[{type:"ai_interactions",value:10,timeframe:"all_time"}],story:"Data reveals truth. Your 10+ AI interactions show you're actively using technology to uncover kidnapping patterns and help law enforcement respond faster.",benefits:["Crisis Analyst status","AI pattern reports","Prediction algorithms access"],rarity:"common",points:15},{id:"community_voice",name:"Crisis Mobilizer",description:"Shared 5+ urgent cases to mobilize community response",icon:"\uD83D\uDCE1",category:"engagement",tier:1,requirement:"5 cases shared",color:"badge-voice",requirements:[{type:"cases_shared",value:5,timeframe:"all_time"}],story:"Community coordination saves children. By sharing 5+ urgent cases, you're mobilizing rapid response networks and expanding the search radius exponentially.",benefits:["Crisis Mobilizer status","Community network access","Rapid alert system"],rarity:"common",points:20},{id:"safety_expert",name:"Safety Expert",description:"Completed safety education modules and quizzes",icon:"\uD83D\uDEE1️",category:"engagement",tier:2,requirement:"Complete safety training",color:"badge-expert",requirements:[{type:"special_action",value:"safety_training_complete"}],story:"Knowledge is the best protection. By completing our safety education, you're equipped to protect yourself and others while supporting missing persons cases.",benefits:["Safety Expert certification","Advanced safety resources","Emergency contact features"],rarity:"rare",points:50},{id:"first_responder",name:"First Responder",description:"Quickly reported new missing person information",icon:"\uD83D\uDE91",category:"engagement",tier:2,requirement:"Submit verified tip",color:"badge-responder",requirements:[{type:"special_action",value:"verified_tip_submitted"}],story:"First responders save lives through quick action. Your verified tip submission shows you're actively helping locate missing persons and supporting families in crisis.",benefits:["First Responder recognition","Priority tip handling","Direct law enforcement contact"],rarity:"rare",points:75},{id:"streak_keeper",name:"Streak Keeper",description:"Maintained 30+ day engagement streak",icon:"\uD83D\uDD25",category:"engagement",tier:3,requirement:"30-day streak",color:"badge-streak",requirements:[{type:"engagement_days",value:30,timeframe:"all_time"}],story:"Consistency creates impact. Your 30+ day engagement streak demonstrates unwavering commitment to helping missing persons and supporting families in need.",benefits:["Streak Keeper status","Daily engagement rewards","Streak milestone celebrations"],rarity:"epic",points:150},{id:"founding_member",name:"Founding Member",description:"Early supporter who joined during the founding period",icon:"\uD83C\uDFDB️",category:"special",tier:1,requirement:"Joined during beta",color:"badge-guardian",requirements:[{type:"special_action",value:"founding_member"}],story:"Founding members build the future. You joined SaveThemNow.Jesus during our founding period, helping establish the foundation for bringing missing persons home.",benefits:["Founding Member status","Lifetime founder recognition","Special founder events"],rarity:"legendary",points:200},{id:"emergency_hero",name:"Emergency Hero",description:"Responded to critical AMBER Alert within 1 hour",icon:"⚡",category:"special",tier:1,requirement:"AMBER Alert response",color:"badge-responder",requirements:[{type:"special_action",value:"amber_alert_response"}],story:"Heroes act when it matters most. Your rapid response to an AMBER Alert shows you're ready to help when children's lives are in immediate danger.",benefits:["Emergency Hero status","AMBER Alert priority notifications","Emergency response team access"],rarity:"epic",points:300},{id:"community_builder",name:"Community Builder",description:"Referred 10+ new members to join the mission",icon:"\uD83C\uDFD7️",category:"special",tier:2,requirement:"10+ referrals",color:"badge-voice",requirements:[{type:"referrals",value:10,timeframe:"all_time"}],story:"Communities save lives. By referring 10+ new members, you're building a stronger network of people committed to bringing missing persons home safely.",benefits:["Community Builder status","Referral rewards program","Community leadership opportunities"],rarity:"rare",points:100},{id:"safety_educator",name:"Safety Educator",description:"Shared safety resources with 25+ people",icon:"\uD83C\uDF93",category:"special",tier:2,requirement:"25+ safety shares",color:"badge-expert",requirements:[{type:"special_action",value:"safety_shares_25"}],story:"Education prevents tragedy. By sharing safety resources with 25+ people, you're proactively protecting communities and preventing missing person cases.",benefits:["Safety Educator certification","Educational resource library","Community workshop access"],rarity:"rare",points:80},{id:"hope_ambassador",name:"Hope Ambassador",description:"Celebrated a successful case resolution",icon:"\uD83C\uDF1F",category:"special",tier:1,requirement:"Case resolution celebration",color:"badge-hope",requirements:[{type:"special_action",value:"case_resolution_celebrated"}],story:"Hope realized is joy shared. Your celebration of a successful case resolution shows the power of community support in bringing families back together.",benefits:["Hope Ambassador status","Success story sharing","Family reunion event invites"],rarity:"rare",points:60},{id:"holiday_helper",name:"Holiday Helper",description:"Made special holiday donation to help families reunite",icon:"\uD83C\uDF84",category:"special",tier:1,requirement:"Holiday donation",color:"badge-guardian",requirements:[{type:"special_action",value:"holiday_donation"}],story:"Holidays are about being together. Your special holiday donation helps ensure more families can reunite during the most important times of the year.",benefits:["Holiday Helper status","Seasonal donation matching","Holiday family reunion stories"],rarity:"rare",points:40},{id:"summer_guardian",name:"Summer Guardian",description:"Maintained high engagement during peak missing person season",icon:"☀️",category:"special",tier:1,requirement:"Summer engagement",color:"badge-guardian",requirements:[{type:"special_action",value:"summer_engagement"}],story:"Summer brings both joy and increased risk. Your dedication during peak missing person season helps protect vulnerable individuals when they need it most.",benefits:["Summer Guardian status","Seasonal safety tips","Summer event access"],rarity:"rare",points:50},{id:"rapid_responder",name:"Rapid Responder",description:"Responded to 5+ crisis alerts within 1 hour",icon:"⚡",category:"special",tier:1,requirement:"5+ rapid responses",color:"badge-responder",requirements:[{type:"special_action",value:"rapid_crisis_response_5"}],story:"Speed saves lives in crisis situations. Your rapid response to 5+ alerts shows you understand that the first hours are critical in missing child cases.",benefits:["Rapid Responder status","Priority alert notifications","Emergency response team access"],rarity:"rare",points:75},{id:"crisis_commander",name:"Crisis Commander",description:"Coordinated community response for 3+ critical cases",icon:"\uD83C\uDF96️",category:"special",tier:2,requirement:"Community coordination",color:"badge-hero",requirements:[{type:"special_action",value:"crisis_coordination_3"}],story:"Leadership in crisis defines heroes. Your coordination of community response for 3+ critical cases shows exceptional commitment to fighting child kidnapping.",benefits:["Crisis Commander status","Community leadership tools","Direct law enforcement contact"],rarity:"epic",points:200},{id:"ai_pioneer",name:"AI Pioneer",description:"First to use new AI detection algorithms for pattern analysis",icon:"\uD83E\uDDE0",category:"special",tier:1,requirement:"Beta AI access",color:"badge-detective",requirements:[{type:"special_action",value:"ai_beta_pioneer"}],story:"Innovation drives progress. As an AI Pioneer, you helped test cutting-edge algorithms that detect kidnapping patterns and predict high-risk scenarios.",benefits:["AI Pioneer status","Beta feature access","Algorithm development input"],rarity:"legendary",points:150}],m=e=>u.find(t=>t.id===e),p=e=>u.filter(t=>t.category===e),g=e=>u.filter(t=>t.rarity===e);class h{static calculateAllBadgeProgress(e){return u.map(t=>this.calculateBadgeProgress(t,e))}static calculateBadgeProgress(e,t){let s=0,i=0,a=!0;for(let r of e.requirements){let e=this.calculateRequirementProgress(r,t);s+=e.progress,i+=e.currentValue,e.progress<100&&(a=!1)}let r=e.requirements.length>0?s/e.requirements.length:0;return{userId:t.userId||"anonymous",badgeId:e.id,progress:Math.min(r,100),unlocked:a,currentValue:i,unlockedAt:a?new Date:void 0}}static calculateRequirementProgress(e,t){let s=0,i=0;switch(e.type){case"donation_amount":s=t.totalDonationAmount,i=Number(e.value);break;case"donation_count":s=t.donationCount,i=Number(e.value);break;case"engagement_days":s=t.engagementDays,i=Number(e.value);break;case"ai_interactions":s=t.aiInteractions,i=Number(e.value);break;case"cases_shared":s=t.casesShared,i=Number(e.value);break;case"referrals":s=t.referrals,i=Number(e.value);break;case"special_action":s=t.specialActions.includes(String(e.value))?1:0,i=1;break;default:return{progress:0,currentValue:0}}return{progress:i>0?Math.min(s/i*100,100):0,currentValue:s}}static getUnlockedBadges(e){return this.calculateAllBadgeProgress(e).filter(e=>e.unlocked).map(e=>({...m(e.badgeId),unlocked:!0,progress:100,unlockedAt:e.unlockedAt}))}static getBadgesInProgress(e){return this.calculateAllBadgeProgress(e).filter(e=>!e.unlocked&&e.progress>0).map(e=>({...m(e.badgeId),unlocked:!1,progress:e.progress})).sort((e,t)=>(t.progress||0)-(e.progress||0))}static getNextAchievableBadges(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return this.getBadgesInProgress(e).slice(0,t)}static checkForNewBadges(e,t){let s=new Set(this.getUnlockedBadges(e).map(e=>e.id));return this.getUnlockedBadges(t).filter(e=>!s.has(e.id))}static calculateTotalPoints(e){return this.getUnlockedBadges(e).reduce((e,t)=>{let s=m(t.id);return e+((null==s?void 0:s.points)||0)},0)}static getUserBadgeLevel(e){let t=this.calculateTotalPoints(e),s=[{level:1,title:"Newcomer",requiredPoints:0},{level:2,title:"Helper",requiredPoints:50},{level:3,title:"Supporter",requiredPoints:150},{level:4,title:"Advocate",requiredPoints:300},{level:5,title:"Champion",requiredPoints:600},{level:6,title:"Hero",requiredPoints:1e3},{level:7,title:"Legend",requiredPoints:1500},{level:8,title:"Guardian",requiredPoints:2500},{level:9,title:"Savior",requiredPoints:5e3},{level:10,title:"Saint",requiredPoints:1e4}],i=s[0],a=s[1];for(let e=0;e<s.length;e++)if(t>=s[e].requiredPoints)i=s[e],a=s[e+1]||s[e];else break;let r=a?a.requiredPoints-t:0;return{level:i.level,title:i.title,pointsToNext:r,totalPoints:t}}static getBadgeRecommendations(e){let t=this.getBadgesInProgress(e),s=[];return t.slice(0,3).forEach(t=>{let i=m(t.id),a=t.progress||0;a>75?s.push({badge:t,suggestion:"You're ".concat(100-a,"% away from unlocking ").concat(t.name,"!"),action:this.getActionSuggestion(i,e)}):a>25&&s.push({badge:t,suggestion:"Make progress on ".concat(t.name," - you're ").concat(a,"% there"),action:this.getActionSuggestion(i,e)})}),0===this.getUnlockedBadges(e).length&&["guardian_angel","case_detective","community_voice"].forEach(t=>{let i=m(t);if(i){let t={...i,unlocked:!1,progress:0};s.push({badge:t,suggestion:"Start your journey with ".concat(i.name),action:this.getActionSuggestion(i,e)})}}),s}static getActionSuggestion(e,t){let s=e.requirements[0];switch(s.type){case"donation_amount":let i=Number(s.value)-t.totalDonationAmount;return i>0?"Donate $".concat(i," more"):"Complete!";case"ai_interactions":let a=Number(s.value)-t.aiInteractions;return a>0?"Use AI analysis ".concat(a," more times"):"Complete!";case"cases_shared":let r=Number(s.value)-t.casesShared;return r>0?"Share ".concat(r," more cases"):"Complete!";case"engagement_days":let n=Number(s.value)-t.engagementDays;return n>0?"Stay active for ".concat(n," more days"):"Complete!";case"referrals":let o=Number(s.value)-t.referrals;return o>0?"Refer ".concat(o," more friends"):"Complete!";case"special_action":return this.getSpecialActionSuggestion(String(s.value));default:return"Keep participating!"}}static getSpecialActionSuggestion(e){switch(e){case"safety_training_complete":return"Complete the safety education course";case"verified_tip_submitted":return"Submit a verified tip for a missing person case";case"amber_alert_response":return"Respond quickly to the next AMBER Alert";case"founding_member":return"Join during our founding period";case"case_resolution_celebrated":return"Celebrate when a case is successfully resolved";default:return"Complete the required action"}}static updateUserStats(e,t){let s={...e};switch(s.lastActiveDate=new Date,t.type){case"donation":t.value&&(s.totalDonationAmount+=t.value,s.donationCount+=1);break;case"ai_interaction":s.aiInteractions+=1;break;case"case_share":s.casesShared+=1;break;case"referral":s.referrals+=1;break;case"special_action":t.specialAction&&!s.specialActions.includes(t.specialAction)&&s.specialActions.push(t.specialAction);break;case"engagement":let i=new Date().toDateString(),a=s.lastActiveDate.toDateString();if(i!==a){s.engagementDays+=1;let e=Math.floor((new Date().getTime()-new Date(a).getTime())/864e5);1===e?s.streakDays+=1:e>1&&(s.streakDays=1)}}return s}}var y=s(3448);function x(e){let{userStats:t,currentTier:s,onBadgeClick:r,onUpgrade:n,className:o}=e,[u,m]=(0,a.useState)("all"),[x,f]=(0,a.useState)("all"),[b,v]=(0,a.useState)("all"),[j,N]=(0,a.useState)(null),[D,w]=(0,a.useState)(!1),_=(0,a.useMemo)(()=>h.getUnlockedBadges(t),[t]),k=(0,a.useMemo)(()=>h.getBadgesInProgress(t),[t]),A=(0,a.useMemo)(()=>h.calculateAllBadgeProgress(t),[t]),C=(0,a.useMemo)(()=>h.getUserBadgeLevel(t),[t]),S=(0,a.useMemo)(()=>h.getBadgeRecommendations(t),[t]),q=(0,a.useMemo)(()=>{let e=[];switch(u){case"unlocked":e=_;break;case"progress":e=k;break;default:e=A.map(e=>({...p("all").find(t=>t.id===e.badgeId),unlocked:e.unlocked,progress:e.progress,unlockedAt:e.unlockedAt}))}if("all"!==x&&(e=e.filter(e=>e.category===x)),"all"!==b){let t=g(b);e=e.filter(e=>t.some(t=>t.id===e.id))}return e},[u,x,b,_,k,A]),P=e=>{N(e),null==r||r(e)},E=e=>{switch(e){case"common":default:return"text-gray-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400"}},I=e=>{switch(e){case"legendary":return"shadow-yellow-500/50";case"epic":return"shadow-purple-500/50";case"rare":return"shadow-blue-500/50";default:return""}};return(0,i.jsxs)("div",{className:(0,y.cn)("w-full space-y-6",o),children:[(0,i.jsxs)(d.Zb,{variant:"tier",tier:s,glow:!0,children:[(0,i.jsx)(d.Ol,{children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(d.ll,{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-badge flex items-center justify-center text-2xl",children:C.level>=10?"\uD83D\uDC51":C.level>=7?"\uD83C\uDFC6":C.level>=4?"⭐":"\uD83C\uDF1F"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Level ",C.level]}),(0,i.jsx)("p",{className:"text-lg text-mission-gray-300",children:C.title})]})]}),(0,i.jsx)(d.zx,{variant:"ghost",size:"sm",onClick:()=>w(!D),children:"\uD83D\uDCCA Stats"})]})}),(0,i.jsx)(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[C.pointsToNext>0&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,i.jsxs)("span",{className:"text-mission-gray-400",children:["Progress to Level ",C.level+1]}),(0,i.jsxs)("span",{className:"text-white",children:[C.pointsToNext," points needed"]})]}),(0,i.jsx)("div",{className:"w-full bg-mission-gray-700 rounded-full h-2",children:(0,i.jsx)(l.E.div,{className:"h-2 bg-gradient-badge rounded-full",initial:{width:0},animate:{width:"".concat(100-C.pointsToNext/(C.totalPoints+C.pointsToNext)*100,"%")},transition:{duration:1,ease:"easeOut"}})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-white",children:_.length}),(0,i.jsx)("div",{className:"text-sm text-mission-gray-400",children:"Badges Earned"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-mission-primary",children:C.totalPoints}),(0,i.jsx)("div",{className:"text-sm text-mission-gray-400",children:"Total Points"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-mission-accent",children:k.length}),(0,i.jsx)("div",{className:"text-sm text-mission-gray-400",children:"In Progress"})]})]}),(0,i.jsx)(c.M,{children:D&&(0,i.jsx)(l.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,i.jsx)("div",{className:"pt-4 border-t border-mission-gray-700",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"Total Donations:"}),(0,i.jsxs)("span",{className:"ml-2 text-white",children:["$",t.totalDonationAmount]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"AI Interactions:"}),(0,i.jsx)("span",{className:"ml-2 text-white",children:t.aiInteractions})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"Cases Shared:"}),(0,i.jsx)("span",{className:"ml-2 text-white",children:t.casesShared})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"Referrals:"}),(0,i.jsx)("span",{className:"ml-2 text-white",children:t.referrals})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"Active Days:"}),(0,i.jsx)("span",{className:"ml-2 text-white",children:t.engagementDays})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-mission-gray-400",children:"Current Streak:"}),(0,i.jsxs)("span",{className:"ml-2 text-white",children:[t.streakDays," days"]})]})]})})})})]})})]}),S.length>0&&(0,i.jsxs)(d.Zb,{children:[(0,i.jsx)(d.Ol,{children:(0,i.jsx)(d.ll,{children:"\uD83C\uDFAF Recommended Badges"})}),(0,i.jsx)(d.aY,{children:(0,i.jsx)("div",{className:"space-y-3",children:S.slice(0,3).map((e,t)=>(0,i.jsxs)(l.E.div,{className:"flex items-center gap-3 p-3 bg-mission-gray-800 rounded-lg hover:bg-mission-gray-750 transition-colors cursor-pointer",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},onClick:()=>P(e.badge),children:[(0,i.jsx)(d.Ct,{badge:e.badge,size:"sm",showProgress:!0,interactive:!0}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{className:"text-white text-sm font-medium",children:e.suggestion}),(0,i.jsx)("p",{className:"text-mission-gray-400 text-xs",children:e.action})]}),(0,i.jsx)(d.zx,{variant:"ghost",size:"xs",children:"→"})]},e.badge.id))})})]}),(0,i.jsx)(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4",children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"All Badges"},{key:"unlocked",label:"Unlocked (".concat(_.length,")")},{key:"progress",label:"In Progress (".concat(k.length,")")}].map(e=>{let{key:t,label:s}=e;return(0,i.jsx)(d.zx,{variant:u===t?"primary":"ghost",size:"sm",onClick:()=>m(t),children:s},t)})}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,i.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"px-3 py-1 bg-mission-gray-800 border border-mission-gray-700 text-white rounded text-sm",children:[(0,i.jsx)("option",{value:"all",children:"All Categories"}),(0,i.jsx)("option",{value:"donation",children:"\uD83D\uDC9D Donation"}),(0,i.jsx)("option",{value:"engagement",children:"\uD83C\uDFAF Engagement"}),(0,i.jsx)("option",{value:"special",children:"⭐ Special"})]}),(0,i.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"px-3 py-1 bg-mission-gray-800 border border-mission-gray-700 text-white rounded text-sm",children:[(0,i.jsx)("option",{value:"all",children:"All Rarities"}),(0,i.jsx)("option",{value:"common",children:"⚪ Common"}),(0,i.jsx)("option",{value:"rare",children:"\uD83D\uDD35 Rare"}),(0,i.jsx)("option",{value:"epic",children:"\uD83D\uDFE3 Epic"}),(0,i.jsx)("option",{value:"legendary",children:"\uD83D\uDFE1 Legendary"})]})]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:(0,i.jsx)(c.M,{mode:"popLayout",children:q.map((e,t)=>{let s=p("all").find(t=>t.id===e.id),a=(null==s?void 0:s.rarity)||"common";return(0,i.jsxs)(l.E.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,delay:.05*t},className:(0,y.cn)("relative",I(a)),children:[(0,i.jsx)(d.Zb,{hoverable:!0,className:(0,y.cn)("cursor-pointer transition-all duration-200 hover:scale-105",e.unlocked?"border-mission-primary/50":"border-mission-gray-700"),onClick:()=>P(e),children:(0,i.jsxs)(d.aY,{className:"p-4 text-center",children:[(0,i.jsx)(d.Ct,{badge:e,size:"lg",showProgress:!e.unlocked,showAnimation:e.unlocked,interactive:!0}),(0,i.jsx)("h3",{className:"font-semibold text-white mt-3 text-sm",children:e.name}),(0,i.jsx)("p",{className:"text-xs text-mission-gray-400 mt-1 line-clamp-2",children:e.description}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("span",{className:(0,y.cn)("text-xs px-2 py-1 rounded-full",E(a),"bg-mission-gray-800"),children:a})}),!e.unlocked&&void 0!==e.progress&&e.progress>0&&(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("div",{className:"w-full bg-mission-gray-700 rounded-full h-1",children:(0,i.jsx)(l.E.div,{className:"h-1 bg-mission-primary rounded-full",initial:{width:0},animate:{width:"".concat(e.progress,"%")},transition:{duration:.5,delay:.1*t}})}),(0,i.jsxs)("span",{className:"text-xs text-mission-gray-400 mt-1",children:[Math.round(e.progress),"%"]})]}),s&&(0,i.jsxs)("div",{className:"mt-2 text-xs text-mission-warning",children:[s.points," pts"]})]})}),e.unlocked&&e.unlockedAt&&Date.now()-e.unlockedAt.getTime()<864e5&&(0,i.jsx)(l.E.div,{className:"absolute -top-2 -right-2 bg-mission-secondary text-white text-xs px-2 py-1 rounded-full",initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.3},children:"NEW!"})]},e.id)})})}),0===q.length&&(0,i.jsx)(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-8 text-center",children:[(0,i.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDFC6"}),(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No badges found"}),(0,i.jsx)("p",{className:"text-mission-gray-400 mb-4",children:"Try adjusting your filters or start earning badges!"}),(0,i.jsx)(d.zx,{variant:"primary",onClick:n,children:"Learn How to Earn Badges"})]})})]})}function f(){var e,t,s,l;let{data:c,status:d}=(0,r.useSession)(),[u,m]=(0,a.useState)(null),[p,g]=(0,a.useState)([]),[h,y]=(0,a.useState)({totalDonated:0,totalDonations:0}),[f,b]=(0,a.useState)(!0),[v,j]=(0,a.useState)("");(0,a.useEffect)(()=>{if("loading"!==d){if(!c){(0,n.redirect)("/auth/signin");return}N()}},[c,d]);let N=async()=>{try{b(!0);let e=await fetch("/api/subscriptions"),t=await e.json();m(t);let s=await fetch("/api/donations"),i=await s.json();g(i.donations||[]),y(i.summary||{totalDonated:0,totalDonations:0})}catch(e){j("Failed to load profile data"),console.error("Profile error:",e)}finally{b(!1)}},D=async()=>{if(confirm("Are you sure you want to cancel your subscription? It will remain active until the end of your current billing period."))try{let e=await fetch("/api/subscriptions",{method:"DELETE"});if(e.ok)N(),alert("Subscription will be canceled at the end of the current period.");else{let t=await e.json();alert("Error: ".concat(t.error))}}catch(e){alert("Failed to cancel subscription")}},w=async()=>{try{let e=await fetch("/api/subscriptions",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reactivate"})});if(e.ok)N(),alert("Subscription reactivated successfully!");else{let t=await e.json();alert("Error: ".concat(t.error))}}catch(e){alert("Failed to reactivate subscription")}},_={totalDonationAmount:h.totalDonated,donationCount:h.totalDonations,engagementDays:120,aiInteractions:45,casesShared:45,referrals:8,specialActions:["first_donation","share_milestone"],joinDate:new Date("2024-01-01"),lastActiveDate:new Date,streakDays:30};return"loading"===d||f?(0,i.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,i.jsx)("p",{children:"Loading profile..."})]})}):c?(0,i.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,i.jsx)("header",{className:"bg-gray-900 border-b border-gray-800 py-6",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Profile"}),(0,i.jsxs)("p",{className:"text-gray-300 mt-2",children:["Welcome back, ",(null===(e=c.user)||void 0===e?void 0:e.name)||(null===(t=c.user)||void 0===t?void 0:t.email)]})]}),(0,i.jsxs)("nav",{className:"hidden md:flex gap-6",children:[(0,i.jsx)(o.default,{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"}),(0,i.jsx)(o.default,{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"About"}),(0,i.jsx)(o.default,{href:"/analysis",className:"text-gray-300 hover:text-white transition-colors",children:"AI Analysis"}),(0,i.jsx)(o.default,{href:"/dashboard",className:"text-gray-300 hover:text-white transition-colors",children:"Dashboard"}),(0,i.jsx)(o.default,{href:"/profile",className:"text-white font-semibold",children:"Profile"}),(0,i.jsx)(o.default,{href:"/auth/signin",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Sign In"})]})]})}),(0,i.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[v&&(0,i.jsx)("div",{className:"bg-red-900 border border-red-700 text-red-200 px-4 py-3 rounded mb-6",children:v}),(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)(x,{userStats:_,currentTier:(null==u?void 0:u.tier)||"free",onUpgrade:()=>window.open("/pricing","_blank")})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Account Information"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,i.jsx)("span",{className:"ml-2",children:null===(s=c.user)||void 0===s?void 0:s.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Name:"}),(0,i.jsx)("span",{className:"ml-2",children:(null===(l=c.user)||void 0===l?void 0:l.name)||"Not provided"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Member since:"}),(0,i.jsx)("span",{className:"ml-2",children:"Account created"})]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Impact Summary"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Total Donated:"}),(0,i.jsxs)("span",{className:"ml-2 font-semibold text-green-400",children:["$",h.totalDonated.toFixed(2)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Donations Made:"}),(0,i.jsx)("span",{className:"ml-2",children:h.totalDonations})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Current Tier:"}),(0,i.jsx)("span",{className:"ml-2 capitalize font-semibold text-blue-400",children:(null==u?void 0:u.tier)||"Free"})]})]})]})]}),u&&(0,i.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6 mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Subscription"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold mb-3",children:"Current Plan"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Tier:"}),(0,i.jsx)("span",{className:"ml-2 capitalize font-semibold text-blue-400",children:u.tier})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,i.jsx)("span",{className:"ml-2 capitalize ".concat("active"===u.status?"text-green-400":"text-yellow-400"),children:u.status})]}),u.currentPeriodEnd&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-400",children:"Renews:"}),(0,i.jsx)("span",{className:"ml-2",children:new Date(u.currentPeriodEnd).toLocaleDateString()})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold mb-3",children:"Features"}),(0,i.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,i.jsxs)("li",{className:"text-gray-300",children:["\uD83D\uDDFA️ Map Access: ",u.mapAccessLevel]}),(0,i.jsxs)("li",{className:"text-gray-300",children:["\uD83E\uDD16 AI Interactions: ",-1===u.aiInteractionsPerDay?"Unlimited":"".concat(u.aiInteractionsPerDay,"/day")]}),u.features&&Array.isArray(u.features)&&u.features.includes("no_ads")&&(0,i.jsx)("li",{className:"text-green-400",children:"✅ Ad-free experience"}),u.features&&Array.isArray(u.features)&&u.features.includes("priority_support")&&(0,i.jsx)("li",{className:"text-green-400",children:"✅ Priority support"}),u.features&&Array.isArray(u.features)&&u.features.includes("advanced_analytics")&&(0,i.jsx)("li",{className:"text-green-400",children:"✅ Advanced analytics"}),u.features&&Array.isArray(u.features)&&u.features.includes("api_access")&&(0,i.jsx)("li",{className:"text-green-400",children:"✅ API access"})]})]})]}),(0,i.jsxs)("div",{className:"mt-6 flex gap-4",children:["free"!==u.tier&&(0,i.jsx)(i.Fragment,{children:u.cancelAtPeriodEnd?(0,i.jsx)("button",{onClick:w,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Reactivate Subscription"}):(0,i.jsx)("button",{onClick:D,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel Subscription"})}),(0,i.jsx)(o.default,{href:"/pricing",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"free"===u.tier?"Upgrade Plan":"Change Plan"})]})]}),(0,i.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Donations"}),p.length>0?(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"w-full text-sm",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,i.jsx)("th",{className:"text-left py-2",children:"Date"}),(0,i.jsx)("th",{className:"text-left py-2",children:"Amount"}),(0,i.jsx)("th",{className:"text-left py-2",children:"Type"}),(0,i.jsx)("th",{className:"text-left py-2",children:"Anonymous"})]})}),(0,i.jsx)("tbody",{children:p.slice(0,5).map(e=>(0,i.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,i.jsx)("td",{className:"py-2",children:new Date(e.createdAt).toLocaleDateString()}),(0,i.jsxs)("td",{className:"py-2 font-semibold text-green-400",children:["$",e.amount.toFixed(2)]}),(0,i.jsx)("td",{className:"py-2 capitalize",children:e.donationType.replace("_"," ")}),(0,i.jsx)("td",{className:"py-2",children:e.anonymous?"Yes":"No"})]},e.id))})]})}):(0,i.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,i.jsx)("p",{children:"No donations yet"}),(0,i.jsx)(o.default,{href:"/donate",className:"inline-block mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Make Your First Donation"})]})]})]})]}):null}}},function(e){e.O(0,[972,605,282,428,971,117,744],function(){return e(e.s=7260)}),_N_E=e.O()}]);