"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/missing-persons/route";
exports.ids = ["app/api/missing-persons/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmissing-persons%2Froute&page=%2Fapi%2Fmissing-persons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmissing-persons%2Froute.ts&appDir=E%3A%5CDownload%5Csavethemnow.Jesus%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CDownload%5Csavethemnow.Jesus&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmissing-persons%2Froute&page=%2Fapi%2Fmissing-persons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmissing-persons%2Froute.ts&appDir=E%3A%5CDownload%5Csavethemnow.Jesus%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CDownload%5Csavethemnow.Jesus&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Download_savethemnow_Jesus_src_app_api_missing_persons_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/missing-persons/route.ts */ \"(rsc)/./src/app/api/missing-persons/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/missing-persons/route\",\n        pathname: \"/api/missing-persons\",\n        filename: \"route\",\n        bundlePath: \"app/api/missing-persons/route\"\n    },\n    resolvedPagePath: \"E:\\\\Download\\\\savethemnow.Jesus\\\\src\\\\app\\\\api\\\\missing-persons\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_Download_savethemnow_Jesus_src_app_api_missing_persons_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/missing-persons/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtaXNzaW5nLXBlcnNvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1pc3NpbmctcGVyc29ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1pc3NpbmctcGVyc29ucyUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDRG93bmxvYWQlNUNzYXZldGhlbW5vdy5KZXN1cyU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1Q0Rvd25sb2FkJTVDc2F2ZXRoZW1ub3cuSmVzdXMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3lCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2F2ZXRoZW1ub3ctamVzdXMvPzIzMzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcRG93bmxvYWRcXFxcc2F2ZXRoZW1ub3cuSmVzdXNcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcbWlzc2luZy1wZXJzb25zXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9taXNzaW5nLXBlcnNvbnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9taXNzaW5nLXBlcnNvbnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21pc3NpbmctcGVyc29ucy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkU6XFxcXERvd25sb2FkXFxcXHNhdmV0aGVtbm93Lkplc3VzXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG1pc3NpbmctcGVyc29uc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvbWlzc2luZy1wZXJzb25zL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmissing-persons%2Froute&page=%2Fapi%2Fmissing-persons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmissing-persons%2Froute.ts&appDir=E%3A%5CDownload%5Csavethemnow.Jesus%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CDownload%5Csavethemnow.Jesus&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/missing-persons/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/missing-persons/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firestore */ \"(rsc)/./src/lib/firestore.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var csv_parse_sync__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! csv-parse/sync */ \"(rsc)/./node_modules/csv-parse/lib/sync.js\");\n\n\n\n\n\nasync function getCSVData(searchParams) {\n    try {\n        const csvPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"missing-persons.csv\");\n        const csvContent = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(csvPath, \"utf-8\");\n        const records = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_4__.parse)(csvContent, {\n            columns: true,\n            skip_empty_lines: true,\n            bom: true\n        });\n        // Convert CSV records to MissingPerson format\n        let missingPersons = records.map((row, index)=>{\n            const caseNumber = row[\"Case Number\"]?.trim().replace(/\"/g, \"\") || \"\";\n            const dlc = row[\"DLC\"]?.trim() || \"\";\n            const firstName = row[\"Legal First Name\"]?.trim() || \"\";\n            const lastName = row[\"Legal Last Name\"]?.trim() || \"\";\n            const city = row[\"City\"]?.trim() || \"\";\n            const state = row[\"State\"]?.trim() || \"\";\n            const county = row[\"County\"]?.trim() || \"\";\n            const ageText = row[\"Missing Age\"]?.trim() || \"\";\n            const sex = row[\"Biological Sex\"]?.trim() || \"\";\n            const ethnicity = row[\"Race / Ethnicity\"]?.trim() || \"\";\n            const digits = ageText.match(/\\d+/);\n            const age = digits ? parseInt(digits[0]) : 0;\n            const category = age < 18 ? \"Missing Children\" : \"Missing Adults\";\n            const location = [\n                city,\n                county,\n                state,\n                \"USA\"\n            ].filter(Boolean).join(\", \");\n            const fullName = [\n                firstName,\n                lastName\n            ].filter(Boolean).join(\" \");\n            return {\n                id: index + 1,\n                name: fullName || \"Unknown\",\n                date: dlc,\n                status: \"Active\",\n                category,\n                reportedMissing: dlc ? `Reported Missing ${dlc}` : \"\",\n                location,\n                latitude: 0,\n                longitude: 0,\n                age,\n                gender: sex,\n                ethnicity,\n                caseNumber,\n                description: `Case #${caseNumber} - ${ageText} ${sex} from ${city}, ${state}`,\n                city,\n                state,\n                county,\n                legalFirstName: firstName,\n                legalLastName: lastName,\n                biologicalSex: sex,\n                raceEthnicity: ethnicity,\n                missingAge: ageText,\n                dateMissing: dlc,\n                dateModified: dlc\n            };\n        });\n        // Apply filters\n        const category = searchParams.get(\"category\");\n        const status = searchParams.get(\"status\");\n        const state_filter = searchParams.get(\"state\");\n        const city_filter = searchParams.get(\"city\");\n        const search = searchParams.get(\"search\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"100\");\n        const offset = parseInt(searchParams.get(\"offset\") || \"0\");\n        if (category) {\n            missingPersons = missingPersons.filter((person)=>person.category === category);\n        }\n        if (status) {\n            missingPersons = missingPersons.filter((person)=>person.status === status);\n        }\n        if (state_filter) {\n            missingPersons = missingPersons.filter((person)=>person.state === state_filter);\n        }\n        if (city_filter) {\n            missingPersons = missingPersons.filter((person)=>person.city === city_filter);\n        }\n        if (search) {\n            const searchLower = search.toLowerCase();\n            missingPersons = missingPersons.filter((person)=>person.name?.toLowerCase().includes(searchLower) || person.location?.toLowerCase().includes(searchLower) || person.caseNumber?.toLowerCase().includes(searchLower));\n        }\n        const total = missingPersons.length;\n        const paginatedData = missingPersons.slice(offset, offset + limit);\n        const hasMore = offset + limit < total;\n        return {\n            data: paginatedData,\n            meta: {\n                total: paginatedData.length,\n                totalAvailable: total,\n                limit,\n                offset,\n                hasMore,\n                source: \"csv\"\n            }\n        };\n    } catch (error) {\n        console.error(\"Error reading CSV:\", error);\n        throw error;\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        // Try Firestore first, fall back to CSV\n        try {\n            const options = {\n                category: searchParams.get(\"category\") || undefined,\n                status: searchParams.get(\"status\") || undefined,\n                state: searchParams.get(\"state\") || undefined,\n                city: searchParams.get(\"city\") || undefined,\n                searchTerm: searchParams.get(\"search\") || undefined,\n                limitCount: parseInt(searchParams.get(\"limit\") || \"100\")\n            };\n            const result = await _lib_firestore__WEBPACK_IMPORTED_MODULE_1__.FirestoreService.getMissingPersons(options);\n            // If we have data from Firestore, use it\n            if (result.data.length > 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    data: result.data,\n                    meta: {\n                        total: result.data.length,\n                        limit: options.limitCount,\n                        hasMore: result.hasMore,\n                        lastDoc: result.lastDoc,\n                        source: \"firestore\"\n                    }\n                });\n            }\n        } catch (firestoreError) {\n            console.log(\"Firestore unavailable, using CSV fallback:\", firestoreError instanceof Error ? firestoreError.message : \"Unknown error\");\n        }\n        // Use CSV as fallback (or primary if Firestore is empty)\n        const csvResult = await getCSVData(searchParams);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(csvResult);\n    } catch (error) {\n        console.error(\"Error fetching missing persons:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch missing persons data\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const id = await _lib_firestore__WEBPACK_IMPORTED_MODULE_1__.FirestoreService.addMissingPerson(body);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id,\n            message: \"Missing person added successfully\"\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error adding missing person:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to add missing person\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const body = await request.json();\n        const { id, ...updates } = body;\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing person ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        await _lib_firestore__WEBPACK_IMPORTED_MODULE_1__.FirestoreService.updateMissingPerson(id, updates);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Missing person updated successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error updating missing person:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update missing person\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing person ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        await _lib_firestore__WEBPACK_IMPORTED_MODULE_1__.FirestoreService.deleteMissingPerson(id);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Missing person deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting missing person:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to delete missing person\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9taXNzaW5nLXBlcnNvbnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDTDtBQUMvQjtBQUNJO0FBQ2U7QUFHdEMsZUFBZUssV0FBV0MsWUFBNkI7SUFDckQsSUFBSTtRQUNGLE1BQU1DLFVBQVVKLGdEQUFTLENBQUNNLFFBQVFDLEdBQUcsSUFBSTtRQUN6QyxNQUFNQyxhQUFhVCxzREFBZSxDQUFDSyxTQUFTO1FBQzVDLE1BQU1NLFVBQVVULHFEQUFLQSxDQUFDTyxZQUFZO1lBQ2hDRyxTQUFTO1lBQ1RDLGtCQUFrQjtZQUNsQkMsS0FBSztRQUNQO1FBRUEsOENBQThDO1FBQzlDLElBQUlDLGlCQUFrQ0osUUFBUUssR0FBRyxDQUFDLENBQUNDLEtBQVVDO1lBQzNELE1BQU1DLGFBQWFGLEdBQUcsQ0FBQyxjQUFjLEVBQUVHLE9BQU9DLFFBQVEsTUFBTSxPQUFPO1lBQ25FLE1BQU1DLE1BQU1MLEdBQUcsQ0FBQyxNQUFNLEVBQUVHLFVBQVU7WUFDbEMsTUFBTUcsWUFBWU4sR0FBRyxDQUFDLG1CQUFtQixFQUFFRyxVQUFVO1lBQ3JELE1BQU1JLFdBQVdQLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUcsVUFBVTtZQUNuRCxNQUFNSyxPQUFPUixHQUFHLENBQUMsT0FBTyxFQUFFRyxVQUFVO1lBQ3BDLE1BQU1NLFFBQVFULEdBQUcsQ0FBQyxRQUFRLEVBQUVHLFVBQVU7WUFDdEMsTUFBTU8sU0FBU1YsR0FBRyxDQUFDLFNBQVMsRUFBRUcsVUFBVTtZQUN4QyxNQUFNUSxVQUFVWCxHQUFHLENBQUMsY0FBYyxFQUFFRyxVQUFVO1lBQzlDLE1BQU1TLE1BQU1aLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRUcsVUFBVTtZQUM3QyxNQUFNVSxZQUFZYixHQUFHLENBQUMsbUJBQW1CLEVBQUVHLFVBQVU7WUFFckQsTUFBTVcsU0FBU0gsUUFBUUksS0FBSyxDQUFDO1lBQzdCLE1BQU1DLE1BQU1GLFNBQVNHLFNBQVNI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QUFPO1FBQWtDLEdBQzNDO1lBQUVoQyxRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVPLGVBQWV5RCxPQUFPdEIsT0FBb0I7SUFDL0MsSUFBSTtRQUNGLE1BQU0sRUFBRTFFLFlBQVksRUFBRSxHQUFHLElBQUkyRSxJQUFJRCxRQUFRRSxHQUFHO1FBQzVDLE1BQU14QyxLQUFLcEMsYUFBYW9ELEdBQUcsQ0FBQztRQUU1QixJQUFJLENBQUNoQixJQUFJO1lBQ1AsT0FBTzFDLHFEQUFZQSxDQUFDeUYsSUFBSSxDQUN0QjtnQkFBRVosT0FBTztZQUFnQyxHQUN6QztnQkFBRWhDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU01Qyw0REFBZ0JBLENBQUNzRyxtQkFBbUIsQ0FBQzdEO1FBRTNDLE9BQU8xQyxxREFBWUEsQ0FBQ3lGLElBQUksQ0FBQztZQUN2QkssU0FBUztRQUNYO0lBRUYsRUFBRSxPQUFPakIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtRQUNoRCxPQUFPN0UscURBQVlBLENBQUN5RixJQUFJLENBQ3RCO1lBQUVaLE9BQU87UUFBa0MsR0FDM0M7WUFBRWhDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2F2ZXRoZW1ub3ctamVzdXMvLi9zcmMvYXBwL2FwaS9taXNzaW5nLXBlcnNvbnMvcm91dGUudHM/ZDIzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBGaXJlc3RvcmVTZXJ2aWNlIH0gZnJvbSAnQC9saWIvZmlyZXN0b3JlJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnY3N2LXBhcnNlL3N5bmMnXG5pbXBvcnQgeyBNaXNzaW5nUGVyc29uIH0gZnJvbSAnQC90eXBlcy9taXNzaW5nLXBlcnNvbidcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q1NWRGF0YShzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcykge1xuICB0cnkge1xuICAgIGNvbnN0IGNzdlBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ21pc3NpbmctcGVyc29ucy5jc3YnKVxuICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoY3N2UGF0aCwgJ3V0Zi04JylcbiAgICBjb25zdCByZWNvcmRzID0gcGFyc2UoY3N2Q29udGVudCwgeyBcbiAgICAgIGNvbHVtbnM6IHRydWUsIFxuICAgICAgc2tpcF9lbXB0eV9saW5lczogdHJ1ZSxcbiAgICAgIGJvbTogdHJ1ZSBcbiAgICB9KVxuXG4gICAgLy8gQ29udmVydCBDU1YgcmVjb3JkcyB0byBNaXNzaW5nUGVyc29uIGZvcm1hdFxuICAgIGxldCBtaXNzaW5nUGVyc29uczogTWlzc2luZ1BlcnNvbltdID0gcmVjb3Jkcy5tYXAoKHJvdzogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBjYXNlTnVtYmVyID0gcm93WydDYXNlIE51bWJlciddPy50cmltKCkucmVwbGFjZSgvXCIvZywgJycpIHx8ICcnXG4gICAgICBjb25zdCBkbGMgPSByb3dbJ0RMQyddPy50cmltKCkgfHwgJydcbiAgICAgIGNvbnN0IGZpcnN0TmFtZSA9IHJvd1snTGVnYWwgRmlyc3QgTmFtZSddPy50cmltKCkgfHwgJydcbiAgICAgIGNvbnN0IGxhc3ROYW1lID0gcm93WydMZWdhbCBMYXN0IE5hbWUnXT8udHJpbSgpIHx8ICcnXG4gICAgICBjb25zdCBjaXR5ID0gcm93WydDaXR5J10/LnRyaW0oKSB8fCAnJ1xuICAgICAgY29uc3Qgc3RhdGUgPSByb3dbJ1N0YXRlJ10/LnRyaW0oKSB8fCAnJ1xuICAgICAgY29uc3QgY291bnR5ID0gcm93WydDb3VudHknXT8udHJpbSgpIHx8ICcnXG4gICAgICBjb25zdCBhZ2VUZXh0ID0gcm93WydNaXNzaW5nIEFnZSddPy50cmltKCkgfHwgJydcbiAgICAgIGNvbnN0IHNleCA9IHJvd1snQmlvbG9naWNhbCBTZXgnXT8udHJpbSgpIHx8ICcnXG4gICAgICBjb25zdCBldGhuaWNpdHkgPSByb3dbJ1JhY2UgLyBFdGhuaWNpdHknXT8udHJpbSgpIHx8ICcnXG4gICAgICBcbiAgICAgIGNvbnN0IGRpZ2l0cyA9IGFnZVRleHQubWF0Y2goL1xcZCsvKVxuICAgICAgY29uc3QgYWdlID0gZGlnaXRzID8gcGFyc2VJbnQoZGlnaXRzWzBdKSA6IDBcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gYWdlIDwgMTggPyAnTWlzc2luZyBDaGlsZHJlbicgOiAnTWlzc2luZyBBZHVsdHMnXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IFtjaXR5LCBjb3VudHksIHN0YXRlLCAnVVNBJ10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJywgJylcbiAgICAgIGNvbnN0IGZ1bGxOYW1lID0gW2ZpcnN0TmFtZSwgbGFzdE5hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJylcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGluZGV4ICsgMSxcbiAgICAgICAgbmFtZTogZnVsbE5hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgICBkYXRlOiBkbGMsXG4gICAgICAgIHN0YXR1czogJ0FjdGl2ZScsXG4gICAgICAgIGNhdGVnb3J5LFxuICAgICAgICByZXBvcnRlZE1pc3Npbmc6IGRsYyA/IGBSZXBvcnRlZCBNaXNzaW5nICR7ZGxjfWAgOiAnJyxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGxhdGl0dWRlOiAwLCAvLyBXb3VsZCBuZWVkIGdlb2NvZGluZ1xuICAgICAgICBsb25naXR1ZGU6IDAsXG4gICAgICAgIGFnZSxcbiAgICAgICAgZ2VuZGVyOiBzZXgsXG4gICAgICAgIGV0aG5pY2l0eSxcbiAgICAgICAgY2FzZU51bWJlcixcbiAgICAgICAgZGVzY3JpcHRpb246IGBDYXNlICMke2Nhc2VOdW1iZXJ9IC0gJHthZ2VUZXh0fSAke3NleH0gZnJvbSAke2NpdHl9LCAke3N0YXRlfWAsXG4gICAgICAgIGNpdHksXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBjb3VudHksXG4gICAgICAgIGxlZ2FsRmlyc3ROYW1lOiBmaXJzdE5hbWUsXG4gICAgICAgIGxlZ2FsTGFzdE5hbWU6IGxhc3ROYW1lLFxuICAgICAgICBiaW9sb2dpY2FsU2V4OiBzZXgsXG4gICAgICAgIHJhY2VFdGhuaWNpdHk6IGV0aG5pY2l0eSxcbiAgICAgICAgbWlzc2luZ0FnZTogYWdlVGV4dCxcbiAgICAgICAgZGF0ZU1pc3Npbmc6IGRsYyxcbiAgICAgICAgZGF0ZU1vZGlmaWVkOiBkbGNcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gc2VhcmNoUGFyYW1zLmdldCgnY2F0ZWdvcnknKVxuICAgIGNvbnN0IHN0YXR1cyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXR1cycpXG4gICAgY29uc3Qgc3RhdGVfZmlsdGVyID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdGUnKVxuICAgIGNvbnN0IGNpdHlfZmlsdGVyID0gc2VhcmNoUGFyYW1zLmdldCgnY2l0eScpXG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLmdldCgnc2VhcmNoJylcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpXG4gICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnb2Zmc2V0JykgfHwgJzAnKVxuXG4gICAgaWYgKGNhdGVnb3J5KSB7XG4gICAgICBtaXNzaW5nUGVyc29ucyA9IG1pc3NpbmdQZXJzb25zLmZpbHRlcihwZXJzb24gPT4gcGVyc29uLmNhdGVnb3J5ID09PSBjYXRlZ29yeSlcbiAgICB9XG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgbWlzc2luZ1BlcnNvbnMgPSBtaXNzaW5nUGVyc29ucy5maWx0ZXIocGVyc29uID0+IHBlcnNvbi5zdGF0dXMgPT09IHN0YXR1cylcbiAgICB9XG4gICAgaWYgKHN0YXRlX2ZpbHRlcikge1xuICAgICAgbWlzc2luZ1BlcnNvbnMgPSBtaXNzaW5nUGVyc29ucy5maWx0ZXIocGVyc29uID0+IHBlcnNvbi5zdGF0ZSA9PT0gc3RhdGVfZmlsdGVyKVxuICAgIH1cbiAgICBpZiAoY2l0eV9maWx0ZXIpIHtcbiAgICAgIG1pc3NpbmdQZXJzb25zID0gbWlzc2luZ1BlcnNvbnMuZmlsdGVyKHBlcnNvbiA9PiBwZXJzb24uY2l0eSA9PT0gY2l0eV9maWx0ZXIpXG4gICAgfVxuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgIGNvbnN0IHNlYXJjaExvd2VyID0gc2VhcmNoLnRvTG93ZXJDYXNlKClcbiAgICAgIG1pc3NpbmdQZXJzb25zID0gbWlzc2luZ1BlcnNvbnMuZmlsdGVyKHBlcnNvbiA9PiBcbiAgICAgICAgcGVyc29uLm5hbWU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgIHBlcnNvbi5sb2NhdGlvbj8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hMb3dlcikgfHxcbiAgICAgICAgcGVyc29uLmNhc2VOdW1iZXI/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgdG90YWwgPSBtaXNzaW5nUGVyc29ucy5sZW5ndGhcbiAgICBjb25zdCBwYWdpbmF0ZWREYXRhID0gbWlzc2luZ1BlcnNvbnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsaW1pdClcbiAgICBjb25zdCBoYXNNb3JlID0gb2Zmc2V0ICsgbGltaXQgPCB0b3RhbFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IHBhZ2luYXRlZERhdGEsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHRvdGFsOiBwYWdpbmF0ZWREYXRhLmxlbmd0aCxcbiAgICAgICAgdG90YWxBdmFpbGFibGU6IHRvdGFsLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBoYXNNb3JlLFxuICAgICAgICBzb3VyY2U6ICdjc3YnXG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlYWRpbmcgQ1NWOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcblxuICAgIC8vIFRyeSBGaXJlc3RvcmUgZmlyc3QsIGZhbGwgYmFjayB0byBDU1ZcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgY2F0ZWdvcnk6IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5JykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBzdGF0dXM6IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXR1cycpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhdGU6IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXRlJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBjaXR5OiBzZWFyY2hQYXJhbXMuZ2V0KCdjaXR5JykgfHwgdW5kZWZpbmVkLFxuICAgICAgICBzZWFyY2hUZXJtOiBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGxpbWl0Q291bnQ6IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBGaXJlc3RvcmVTZXJ2aWNlLmdldE1pc3NpbmdQZXJzb25zKG9wdGlvbnMpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGRhdGEgZnJvbSBGaXJlc3RvcmUsIHVzZSBpdFxuICAgICAgaWYgKHJlc3VsdC5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICBkYXRhOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICB0b3RhbDogcmVzdWx0LmRhdGEubGVuZ3RoLFxuICAgICAgICAgICAgbGltaXQ6IG9wdGlvbnMubGltaXRDb3VudCxcbiAgICAgICAgICAgIGhhc01vcmU6IHJlc3VsdC5oYXNNb3JlLFxuICAgICAgICAgICAgbGFzdERvYzogcmVzdWx0Lmxhc3REb2MsXG4gICAgICAgICAgICBzb3VyY2U6ICdmaXJlc3RvcmUnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChmaXJlc3RvcmVFcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ0ZpcmVzdG9yZSB1bmF2YWlsYWJsZSwgdXNpbmcgQ1NWIGZhbGxiYWNrOicsIGZpcmVzdG9yZUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBmaXJlc3RvcmVFcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgQ1NWIGFzIGZhbGxiYWNrIChvciBwcmltYXJ5IGlmIEZpcmVzdG9yZSBpcyBlbXB0eSlcbiAgICBjb25zdCBjc3ZSZXN1bHQgPSBhd2FpdCBnZXRDU1ZEYXRhKHNlYXJjaFBhcmFtcyk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGNzdlJlc3VsdCk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtaXNzaW5nIHBlcnNvbnM6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggbWlzc2luZyBwZXJzb25zIGRhdGEnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgY29uc3QgaWQgPSBhd2FpdCBGaXJlc3RvcmVTZXJ2aWNlLmFkZE1pc3NpbmdQZXJzb24oYm9keSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgaWQsXG4gICAgICBtZXNzYWdlOiAnTWlzc2luZyBwZXJzb24gYWRkZWQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0sIHsgc3RhdHVzOiAyMDEgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgbWlzc2luZyBwZXJzb246JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIG1pc3NpbmcgcGVyc29uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgaWQsIC4uLnVwZGF0ZXMgfSA9IGJvZHk7XG5cbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNaXNzaW5nIHBlcnNvbiBJRCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGF3YWl0IEZpcmVzdG9yZVNlcnZpY2UudXBkYXRlTWlzc2luZ1BlcnNvbihpZCwgdXBkYXRlcyk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ01pc3NpbmcgcGVyc29uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgbWlzc2luZyBwZXJzb246JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIG1pc3NpbmcgcGVyc29uJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKTtcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ01pc3NpbmcgcGVyc29uIElEIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgYXdhaXQgRmlyZXN0b3JlU2VydmljZS5kZWxldGVNaXNzaW5nUGVyc29uKGlkKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBtZXNzYWdlOiAnTWlzc2luZyBwZXJzb24gZGVsZXRlZCBzdWNjZXNzZnVsbHknXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBtaXNzaW5nIHBlcnNvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgbWlzc2luZyBwZXJzb24nIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkZpcmVzdG9yZVNlcnZpY2UiLCJmcyIsInBhdGgiLCJwYXJzZSIsImdldENTVkRhdGEiLCJzZWFyY2hQYXJhbXMiLCJjc3ZQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJjc3ZDb250ZW50IiwicmVhZEZpbGVTeW5jIiwicmVjb3JkcyIsImNvbHVtbnMiLCJza2lwX2VtcHR5X2xpbmVzIiwiYm9tIiwibWlzc2luZ1BlcnNvbnMiLCJtYXAiLCJyb3ciLCJpbmRleCIsImNhc2VOdW1iZXIiLCJ0cmltIiwicmVwbGFjZSIsImRsYyIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiY2l0eSIsInN0YXRlIiwiY291bnR5IiwiYWdlVGV4dCIsInNleCIsImV0aG5pY2l0eSIsImRpZ2l0cyIsIm1hdGNoIiwiYWdlIiwicGFyc2VJbnQiLCJjYXRlZ29yeSIsImxvY2F0aW9uIiwiZmlsdGVyIiwiQm9vbGVhbiIsImZ1bGxOYW1lIiwiaWQiLCJuYW1lIiwiZGF0ZSIsInN0YXR1cyIsInJlcG9ydGVkTWlzc2luZyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZ2VuZGVyIiwiZGVzY3JpcHRpb24iLCJsZWdhbEZpcnN0TmFtZSIsImxlZ2FsTGFzdE5hbWUiLCJiaW9sb2dpY2FsU2V4IiwicmFjZUV0aG5pY2l0eSIsIm1pc3NpbmdBZ2UiLCJkYXRlTWlzc2luZyIsImRhdGVNb2RpZmllZCIsImdldCIsInN0YXRlX2ZpbHRlciIsImNpdHlfZmlsdGVyIiwic2VhcmNoIiwibGltaXQiLCJvZmZzZXQiLCJwZXJzb24iLCJzZWFyY2hMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJ0b3RhbCIsImxlbmd0aCIsInBhZ2luYXRlZERhdGEiLCJzbGljZSIsImhhc01vcmUiLCJkYXRhIiwibWV0YSIsInRvdGFsQXZhaWxhYmxlIiwic291cmNlIiwiZXJyb3IiLCJjb25zb2xlIiwiR0VUIiwicmVxdWVzdCIsIlVSTCIsInVybCIsIm9wdGlvbnMiLCJ1bmRlZmluZWQiLCJzZWFyY2hUZXJtIiwibGltaXRDb3VudCIsInJlc3VsdCIsImdldE1pc3NpbmdQZXJzb25zIiwianNvbiIsImxhc3REb2MiLCJmaXJlc3RvcmVFcnJvciIsImxvZyIsIkVycm9yIiwibWVzc2FnZSIsImNzdlJlc3VsdCIsIlBPU1QiLCJib2R5IiwiYWRkTWlzc2luZ1BlcnNvbiIsIlBVVCIsInVwZGF0ZXMiLCJ1cGRhdGVNaXNzaW5nUGVyc29uIiwiREVMRVRFIiwiZGVsZXRlTWlzc2luZ1BlcnNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/missing-persons/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/firebase/config.ts":
/*!************************************!*\
  !*** ./src/lib/firebase/config.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(rsc)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(rsc)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"(rsc)/./node_modules/firebase/storage/dist/index.mjs\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/analytics */ \"(rsc)/./node_modules/firebase/analytics/dist/index.mjs\");\n\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCexq5vJYj21qFB1kjx1pljBZ5SIWsRKCk\",\n    authDomain: \"save-them-now.firebaseapp.com\",\n    projectId: \"save-them-now\",\n    storageBucket: \"save-them-now.firebasestorage.app\",\n    messagingSenderId: \"1013206442264\",\n    appId: \"1:1013206442264:web:25228ed7ca951d8ef93e6d\",\n    measurementId: \"G-5DQPCRRC4R\"\n};\n// Initialize Firebase only if it hasn't been initialized yet\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n// Initialize Firebase services\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n// Initialize Analytics (only in browser)\nconst analytics =  false ? 0 : null;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2ZpcmViYXNlL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ0o7QUFDVjtBQUNNO0FBQ0k7QUFFakQsTUFBTU0saUJBQWlCO0lBQ3JCQyxRQUFRQyx5Q0FBd0M7SUFDaERHLFlBQVlILCtCQUE0QztJQUN4REssV0FBV0wsZUFBMkM7SUFDdERPLGVBQWVQLG1DQUErQztJQUM5RFMsbUJBQW1CVCxlQUFvRDtJQUN2RVcsT0FBT1gsNENBQXVDO0lBQzlDYSxlQUFlYixjQUErQztBQUNoRTtBQUVBLDZEQUE2RDtBQUM3RCxNQUFNZSxNQUFNdEIscURBQU9BLEdBQUd1QixNQUFNLEtBQUssSUFBSXhCLDJEQUFhQSxDQUFDTSxrQkFBa0JMLHFEQUFPQSxFQUFFLENBQUMsRUFBRTtBQUVqRiwrQkFBK0I7QUFDeEIsTUFBTXdCLEtBQUt2QixnRUFBWUEsQ0FBQ3FCLEtBQUk7QUFDNUIsTUFBTUcsT0FBT3ZCLHNEQUFPQSxDQUFDb0IsS0FBSTtBQUN6QixNQUFNSSxVQUFVdkIsNERBQVVBLENBQUNtQixLQUFJO0FBRXRDLHlDQUF5QztBQUNsQyxNQUFNSyxZQUFZLE1BQWtCLEdBQWN2QixDQUFpQmtCLEdBQUcsS0FBSTtBQUVqRixpRUFBZUEsR0FBR0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NhdmV0aGVtbm93LWplc3VzLy4vc3JjL2xpYi9maXJlYmFzZS9jb25maWcudHM/NzdjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzIH0gZnJvbSAnZmlyZWJhc2UvYXBwJ1xyXG5pbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnXHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJ1xyXG5pbXBvcnQgeyBnZXRTdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSdcclxuaW1wb3J0IHsgZ2V0QW5hbHl0aWNzIH0gZnJvbSAnZmlyZWJhc2UvYW5hbHl0aWNzJ1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxyXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxyXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FQVNVUkVNRU5UX0lEXHJcbn1cclxuXHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2Ugb25seSBpZiBpdCBoYXNuJ3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcclxuY29uc3QgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwcygpWzBdXHJcblxyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlIHNlcnZpY2VzXHJcbmV4cG9ydCBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApXHJcbmV4cG9ydCBjb25zdCBhdXRoID0gZ2V0QXV0aChhcHApXHJcbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApXHJcblxyXG4vLyBJbml0aWFsaXplIEFuYWx5dGljcyAob25seSBpbiBicm93c2VyKVxyXG5leHBvcnQgY29uc3QgYW5hbHl0aWNzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBbmFseXRpY3MoYXBwKSA6IG51bGxcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcCJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEZpcmVzdG9yZSIsImdldEF1dGgiLCJnZXRTdG9yYWdlIiwiZ2V0QW5hbHl0aWNzIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSIsImF1dGhEb21haW4iLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsInByb2plY3RJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsIm1lYXN1cmVtZW50SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRCIsImFwcCIsImxlbmd0aCIsImRiIiwiYXV0aCIsInN0b3JhZ2UiLCJhbmFseXRpY3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firebase/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/firestore.ts":
/*!******************************!*\
  !*** ./src/lib/firestore.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FirestoreService: () => (/* binding */ FirestoreService)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase/config */ \"(rsc)/./src/lib/firebase/config.ts\");\n\n\nclass FirestoreService {\n    static{\n        this.COLLECTION_NAME = \"missing_persons\";\n    }\n    /**\n   * Get missing persons with optional filtering and pagination\n   */ static async getMissingPersons(options = {}) {\n        try {\n            const constraints = [];\n            // Add filters\n            if (options.category) {\n                constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"category\", \"==\", options.category));\n            }\n            if (options.status) {\n                constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"status\", \"==\", options.status));\n            }\n            if (options.state) {\n                constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"state\", \"==\", options.state));\n            }\n            if (options.city) {\n                constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"city\", \"==\", options.city));\n            }\n            // Add ordering (required for pagination)\n            constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"));\n            // Add pagination\n            if (options.lastDoc) {\n                constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.startAfter)(options.lastDoc));\n            }\n            // Add limit (default 100, get one extra to check if there are more)\n            const limitCount = options.limitCount || 100;\n            constraints.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount + 1));\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME), ...constraints);\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            const docs = querySnapshot.docs;\n            const hasMore = docs.length > limitCount;\n            // Remove the extra document if we have more than the limit\n            if (hasMore) {\n                docs.pop();\n            }\n            const lastDoc = docs.length > 0 ? docs[docs.length - 1] : null;\n            let missingPersons = docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            // Apply search filter if provided (client-side for now)\n            if (options.searchTerm) {\n                const searchLower = options.searchTerm.toLowerCase();\n                missingPersons = missingPersons.filter((person)=>person.name?.toLowerCase().includes(searchLower) || person.location?.toLowerCase().includes(searchLower) || person.city?.toLowerCase().includes(searchLower) || person.caseNumber?.toLowerCase().includes(searchLower));\n            }\n            return {\n                data: missingPersons,\n                hasMore,\n                lastDoc\n            };\n        } catch (error) {\n            console.error(\"Error getting missing persons:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Get a specific missing person by ID\n   */ static async getMissingPerson(id) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME, id);\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    id: docSnap.id,\n                    ...docSnap.data()\n                };\n            } else {\n                return null;\n            }\n        } catch (error) {\n            console.error(\"Error getting missing person:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Add a new missing person\n   */ static async addMissingPerson(person) {\n        try {\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME), {\n                ...person,\n                createdAt: new Date(),\n                updatedAt: new Date()\n            });\n            return docRef.id;\n        } catch (error) {\n            console.error(\"Error adding missing person:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Update a missing person\n   */ static async updateMissingPerson(id, updates) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME, id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n                ...updates,\n                updatedAt: new Date()\n            });\n        } catch (error) {\n            console.error(\"Error updating missing person:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Delete a missing person\n   */ static async deleteMissingPerson(id) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME, id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)(docRef);\n        } catch (error) {\n            console.error(\"Error deleting missing person:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Get statistics about missing persons\n   */ static async getStatistics() {\n        try {\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME));\n            const stats = {\n                total: 0,\n                categories: {},\n                statuses: {},\n                states: {}\n            };\n            querySnapshot.forEach((doc)=>{\n                const data = doc.data();\n                stats.total++;\n                // Count categories\n                const category = data.category || \"Unknown\";\n                stats.categories[category] = (stats.categories[category] || 0) + 1;\n                // Count statuses\n                const status = data.status || \"Unknown\";\n                stats.statuses[status] = (stats.statuses[status] || 0) + 1;\n                // Count states\n                const state = data.state || \"Unknown\";\n                stats.states[state] = (stats.states[state] || 0) + 1;\n            });\n            return stats;\n        } catch (error) {\n            console.error(\"Error getting statistics:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Search missing persons by name or location\n   */ static async searchMissingPersons(searchTerm, limitCount = 50) {\n        try {\n            // For better search, we'll get a larger dataset and filter client-side\n            // In production, consider using Algolia or implementing server-side search\n            const result = await this.getMissingPersons({\n                limitCount: limitCount * 3,\n                searchTerm\n            });\n            return result.data.slice(0, limitCount);\n        } catch (error) {\n            console.error(\"Error searching missing persons:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Get missing persons by category with caching\n   */ static async getMissingPersonsByCategory(category, limitCount = 100) {\n        try {\n            const result = await this.getMissingPersons({\n                category,\n                limitCount\n            });\n            return result.data;\n        } catch (error) {\n            console.error(\"Error getting missing persons by category:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Get recent missing persons (last 30 days)\n   */ static async getRecentMissingPersons(limitCount = 20) {\n        try {\n            const thirtyDaysAgo = new Date();\n            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"createdAt\", \">=\", thirtyDaysAgo), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(limitCount));\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n            return querySnapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            console.error(\"Error getting recent missing persons:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Batch add multiple missing persons (for migration)\n   */ static async batchAddMissingPersons(persons) {\n        try {\n            const batch = [];\n            for (const person of persons){\n                const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME));\n                batch.push((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, this.COLLECTION_NAME), {\n                    ...person,\n                    createdAt: new Date(),\n                    updatedAt: new Date()\n                }));\n            }\n            await Promise.all(batch);\n        } catch (error) {\n            console.error(\"Error batch adding missing persons:\", error);\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ0YsRUFBRSxPQUFPVSxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx5Q0FBeUNBO1lBQ3ZELE1BQU1BO1FBQ1I7SUFDRjtJQUVBOztHQUVDLEdBQ0QsYUFBYTRCLHVCQUF1QkMsT0FBb0MsRUFBaUI7UUFDdkYsSUFBSTtZQUNGLE1BQU1DLFFBQVEsRUFBRTtZQUNoQixLQUFLLE1BQU1uQyxVQUFVa0MsUUFBUztnQkFDNUIsTUFBTTFCLFNBQVM5Qyx1REFBR0EsQ0FBQ0QsOERBQVVBLENBQUNZLGdEQUFFQSxFQUFFLElBQUksQ0FBQ0UsZUFBZTtnQkFDdEQ0RCxNQUFNdkQsSUFBSSxDQUFDZiwwREFBTUEsQ0FBQ0osOERBQVVBLENBQUNZLGdEQUFFQSxFQUFFLElBQUksQ0FBQ0UsZUFBZSxHQUFHO29CQUN0RCxHQUFHeUIsTUFBTTtvQkFDVFksV0FBVyxJQUFJQztvQkFDZkMsV0FBVyxJQUFJRDtnQkFDakI7WUFDRjtZQUVBLE1BQU11QixRQUFRQyxHQUFHLENBQUNGO1FBQ3BCLEVBQUUsT0FBTzlCLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLHVDQUF1Q0E7WUFDckQsTUFBTUE7UUFDUjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zYXZldGhlbW5vdy1qZXN1cy8uL3NyYy9saWIvZmlyZXN0b3JlLnRzPzNiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY29sbGVjdGlvbixcbiAgZG9jLFxuICBnZXREb2NzLFxuICBnZXREb2MsXG4gIGFkZERvYyxcbiAgdXBkYXRlRG9jLFxuICBkZWxldGVEb2MsXG4gIHF1ZXJ5LFxuICB3aGVyZSxcbiAgb3JkZXJCeSxcbiAgbGltaXQsXG4gIHN0YXJ0QWZ0ZXIsXG4gIFF1ZXJ5Q29uc3RyYWludCxcbiAgRG9jdW1lbnREYXRhLFxuICBRdWVyeVNuYXBzaG90LFxuICBEb2N1bWVudFNuYXBzaG90XG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBkYiB9IGZyb20gJy4vZmlyZWJhc2UvY29uZmlnJztcbmltcG9ydCB7IE1pc3NpbmdQZXJzb24gfSBmcm9tICdAL3R5cGVzL21pc3NpbmctcGVyc29uJztcblxuZXhwb3J0IGNsYXNzIEZpcmVzdG9yZVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBDT0xMRUNUSU9OX05BTUUgPSAnbWlzc2luZ19wZXJzb25zJztcblxuICAvKipcbiAgICogR2V0IG1pc3NpbmcgcGVyc29ucyB3aXRoIG9wdGlvbmFsIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1pc3NpbmdQZXJzb25zKG9wdGlvbnM6IHtcbiAgICBjYXRlZ29yeT86IHN0cmluZztcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gICAgc3RhdGU/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICBsaW1pdENvdW50PzogbnVtYmVyO1xuICAgIGxhc3REb2M/OiBhbnk7XG4gICAgc2VhcmNoVGVybT86IHN0cmluZztcbiAgfSA9IHt9KTogUHJvbWlzZTx7IGRhdGE6IE1pc3NpbmdQZXJzb25bXTsgaGFzTW9yZTogYm9vbGVhbjsgbGFzdERvYz86IGFueSB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBRdWVyeUNvbnN0cmFpbnRbXSA9IFtdO1xuXG4gICAgICAvLyBBZGQgZmlsdGVyc1xuICAgICAgaWYgKG9wdGlvbnMuY2F0ZWdvcnkpIHtcbiAgICAgICAgY29uc3RyYWludHMucHVzaCh3aGVyZSgnY2F0ZWdvcnknLCAnPT0nLCBvcHRpb25zLmNhdGVnb3J5KSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zdGF0dXMpIHtcbiAgICAgICAgY29uc3RyYWludHMucHVzaCh3aGVyZSgnc3RhdHVzJywgJz09Jywgb3B0aW9ucy5zdGF0dXMpKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLnN0YXRlKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLnB1c2god2hlcmUoJ3N0YXRlJywgJz09Jywgb3B0aW9ucy5zdGF0ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuY2l0eSkge1xuICAgICAgICBjb25zdHJhaW50cy5wdXNoKHdoZXJlKCdjaXR5JywgJz09Jywgb3B0aW9ucy5jaXR5KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBvcmRlcmluZyAocmVxdWlyZWQgZm9yIHBhZ2luYXRpb24pXG4gICAgICBjb25zdHJhaW50cy5wdXNoKG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJykpO1xuXG4gICAgICAvLyBBZGQgcGFnaW5hdGlvblxuICAgICAgaWYgKG9wdGlvbnMubGFzdERvYykge1xuICAgICAgICBjb25zdHJhaW50cy5wdXNoKHN0YXJ0QWZ0ZXIob3B0aW9ucy5sYXN0RG9jKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBsaW1pdCAoZGVmYXVsdCAxMDAsIGdldCBvbmUgZXh0cmEgdG8gY2hlY2sgaWYgdGhlcmUgYXJlIG1vcmUpXG4gICAgICBjb25zdCBsaW1pdENvdW50ID0gb3B0aW9ucy5saW1pdENvdW50IHx8IDEwMDtcbiAgICAgIGNvbnN0cmFpbnRzLnB1c2gobGltaXQobGltaXRDb3VudCArIDEpKTtcblxuICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsIHRoaXMuQ09MTEVDVElPTl9OQU1FKSwgLi4uY29uc3RyYWludHMpO1xuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG5cbiAgICAgIGNvbnN0IGRvY3MgPSBxdWVyeVNuYXBzaG90LmRvY3M7XG4gICAgICBjb25zdCBoYXNNb3JlID0gZG9jcy5sZW5ndGggPiBsaW1pdENvdW50O1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIGV4dHJhIGRvY3VtZW50IGlmIHdlIGhhdmUgbW9yZSB0aGFuIHRoZSBsaW1pdFxuICAgICAgaWYgKGhhc01vcmUpIHtcbiAgICAgICAgZG9jcy5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGFzdERvYyA9IGRvY3MubGVuZ3RoID4gMCA/IGRvY3NbZG9jcy5sZW5ndGggLSAxXSA6IG51bGw7XG5cbiAgICAgIGxldCBtaXNzaW5nUGVyc29uczogTWlzc2luZ1BlcnNvbltdID0gZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0gYXMgTWlzc2luZ1BlcnNvbikpO1xuXG4gICAgICAvLyBBcHBseSBzZWFyY2ggZmlsdGVyIGlmIHByb3ZpZGVkIChjbGllbnQtc2lkZSBmb3Igbm93KVxuICAgICAgaWYgKG9wdGlvbnMuc2VhcmNoVGVybSkge1xuICAgICAgICBjb25zdCBzZWFyY2hMb3dlciA9IG9wdGlvbnMuc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBtaXNzaW5nUGVyc29ucyA9IG1pc3NpbmdQZXJzb25zLmZpbHRlcihwZXJzb24gPT4gXG4gICAgICAgICAgcGVyc29uLm5hbWU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoTG93ZXIpIHx8XG4gICAgICAgICAgcGVyc29uLmxvY2F0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgIHBlcnNvbi5jaXR5Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKSB8fFxuICAgICAgICAgIHBlcnNvbi5jYXNlTnVtYmVyPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaExvd2VyKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBkYXRhOiBtaXNzaW5nUGVyc29ucywgaGFzTW9yZSwgbGFzdERvYyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIG1pc3NpbmcgcGVyc29uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgc3BlY2lmaWMgbWlzc2luZyBwZXJzb24gYnkgSURcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRNaXNzaW5nUGVyc29uKGlkOiBzdHJpbmcpOiBQcm9taXNlPE1pc3NpbmdQZXJzb24gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgdGhpcy5DT0xMRUNUSU9OX05BTUUsIGlkKTtcbiAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcblxuICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogZG9jU25hcC5pZCxcbiAgICAgICAgICAuLi5kb2NTbmFwLmRhdGEoKVxuICAgICAgICB9IGFzIE1pc3NpbmdQZXJzb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBtaXNzaW5nIHBlcnNvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IG1pc3NpbmcgcGVyc29uXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgYWRkTWlzc2luZ1BlcnNvbihwZXJzb246IE9taXQ8TWlzc2luZ1BlcnNvbiwgJ2lkJz4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgdGhpcy5DT0xMRUNUSU9OX05BTUUpLCB7XG4gICAgICAgIC4uLnBlcnNvbixcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRvY1JlZi5pZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIG1pc3NpbmcgcGVyc29uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBtaXNzaW5nIHBlcnNvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZU1pc3NpbmdQZXJzb24oaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNaXNzaW5nUGVyc29uPik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIHRoaXMuQ09MTEVDVElPTl9OQU1FLCBpZCk7XG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLnVwZGF0ZXMsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIG1pc3NpbmcgcGVyc29uOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBtaXNzaW5nIHBlcnNvblxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZU1pc3NpbmdQZXJzb24oaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIHRoaXMuQ09MTEVDVElPTl9OQU1FLCBpZCk7XG4gICAgICBhd2FpdCBkZWxldGVEb2MoZG9jUmVmKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgbWlzc2luZyBwZXJzb246JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBzdGF0aXN0aWNzIGFib3V0IG1pc3NpbmcgcGVyc29uc1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldFN0YXRpc3RpY3MoKTogUHJvbWlzZTx7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBjYXRlZ29yaWVzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHN0YXR1c2VzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIHN0YXRlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCB0aGlzLkNPTExFQ1RJT05fTkFNRSkpO1xuXG4gICAgICBjb25zdCBzdGF0cyA9IHtcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIGNhdGVnb3JpZXM6IHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXG4gICAgICAgIHN0YXR1c2VzOiB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxuICAgICAgICBzdGF0ZXM6IHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj5cbiAgICAgIH07XG5cbiAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICBzdGF0cy50b3RhbCsrO1xuXG4gICAgICAgIC8vIENvdW50IGNhdGVnb3JpZXNcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBkYXRhLmNhdGVnb3J5IHx8ICdVbmtub3duJztcbiAgICAgICAgc3RhdHMuY2F0ZWdvcmllc1tjYXRlZ29yeV0gPSAoc3RhdHMuY2F0ZWdvcmllc1tjYXRlZ29yeV0gfHwgMCkgKyAxO1xuXG4gICAgICAgIC8vIENvdW50IHN0YXR1c2VzXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGRhdGEuc3RhdHVzIHx8ICdVbmtub3duJztcbiAgICAgICAgc3RhdHMuc3RhdHVzZXNbc3RhdHVzXSA9IChzdGF0cy5zdGF0dXNlc1tzdGF0dXNdIHx8IDApICsgMTtcblxuICAgICAgICAvLyBDb3VudCBzdGF0ZXNcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBkYXRhLnN0YXRlIHx8ICdVbmtub3duJztcbiAgICAgICAgc3RhdHMuc3RhdGVzW3N0YXRlXSA9IChzdGF0cy5zdGF0ZXNbc3RhdGVdIHx8IDApICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc3RhdHM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc3RhdGlzdGljczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIG1pc3NpbmcgcGVyc29ucyBieSBuYW1lIG9yIGxvY2F0aW9uXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgc2VhcmNoTWlzc2luZ1BlcnNvbnMoc2VhcmNoVGVybTogc3RyaW5nLCBsaW1pdENvdW50OiBudW1iZXIgPSA1MCk6IFByb21pc2U8TWlzc2luZ1BlcnNvbltdPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBiZXR0ZXIgc2VhcmNoLCB3ZSdsbCBnZXQgYSBsYXJnZXIgZGF0YXNldCBhbmQgZmlsdGVyIGNsaWVudC1zaWRlXG4gICAgICAvLyBJbiBwcm9kdWN0aW9uLCBjb25zaWRlciB1c2luZyBBbGdvbGlhIG9yIGltcGxlbWVudGluZyBzZXJ2ZXItc2lkZSBzZWFyY2hcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0TWlzc2luZ1BlcnNvbnMoeyBcbiAgICAgICAgbGltaXRDb3VudDogbGltaXRDb3VudCAqIDMsXG4gICAgICAgIHNlYXJjaFRlcm0gXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhLnNsaWNlKDAsIGxpbWl0Q291bnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgbWlzc2luZyBwZXJzb25zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbWlzc2luZyBwZXJzb25zIGJ5IGNhdGVnb3J5IHdpdGggY2FjaGluZ1xuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE1pc3NpbmdQZXJzb25zQnlDYXRlZ29yeShjYXRlZ29yeTogc3RyaW5nLCBsaW1pdENvdW50OiBudW1iZXIgPSAxMDApOiBQcm9taXNlPE1pc3NpbmdQZXJzb25bXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldE1pc3NpbmdQZXJzb25zKHsgY2F0ZWdvcnksIGxpbWl0Q291bnQgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbWlzc2luZyBwZXJzb25zIGJ5IGNhdGVnb3J5OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVjZW50IG1pc3NpbmcgcGVyc29ucyAobGFzdCAzMCBkYXlzKVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldFJlY2VudE1pc3NpbmdQZXJzb25zKGxpbWl0Q291bnQ6IG51bWJlciA9IDIwKTogUHJvbWlzZTxNaXNzaW5nUGVyc29uW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGhpcnR5RGF5c0FnbyA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlydHlEYXlzQWdvLnNldERhdGUodGhpcnR5RGF5c0Fnby5nZXREYXRlKCkgLSAzMCk7XG5cbiAgICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgICAgY29sbGVjdGlvbihkYiwgdGhpcy5DT0xMRUNUSU9OX05BTUUpLFxuICAgICAgICB3aGVyZSgnY3JlYXRlZEF0JywgJz49JywgdGhpcnR5RGF5c0FnbyksXG4gICAgICAgIG9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJyksXG4gICAgICAgIGxpbWl0KGxpbWl0Q291bnQpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICB9IGFzIE1pc3NpbmdQZXJzb24pKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyByZWNlbnQgbWlzc2luZyBwZXJzb25zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCYXRjaCBhZGQgbXVsdGlwbGUgbWlzc2luZyBwZXJzb25zIChmb3IgbWlncmF0aW9uKVxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGJhdGNoQWRkTWlzc2luZ1BlcnNvbnMocGVyc29uczogT21pdDxNaXNzaW5nUGVyc29uLCAnaWQnPltdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJhdGNoID0gW107XG4gICAgICBmb3IgKGNvbnN0IHBlcnNvbiBvZiBwZXJzb25zKSB7XG4gICAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhjb2xsZWN0aW9uKGRiLCB0aGlzLkNPTExFQ1RJT05fTkFNRSkpO1xuICAgICAgICBiYXRjaC5wdXNoKGFkZERvYyhjb2xsZWN0aW9uKGRiLCB0aGlzLkNPTExFQ1RJT05fTkFNRSksIHtcbiAgICAgICAgICAuLi5wZXJzb24sXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKGJhdGNoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYmF0Y2ggYWRkaW5nIG1pc3NpbmcgcGVyc29uczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn0iXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsImdldERvY3MiLCJnZXREb2MiLCJhZGREb2MiLCJ1cGRhdGVEb2MiLCJkZWxldGVEb2MiLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsImxpbWl0Iiwic3RhcnRBZnRlciIsImRiIiwiRmlyZXN0b3JlU2VydmljZSIsIkNPTExFQ1RJT05fTkFNRSIsImdldE1pc3NpbmdQZXJzb25zIiwib3B0aW9ucyIsImNvbnN0cmFpbnRzIiwiY2F0ZWdvcnkiLCJwdXNoIiwic3RhdHVzIiwic3RhdGUiLCJjaXR5IiwibGFzdERvYyIsImxpbWl0Q291bnQiLCJxIiwicXVlcnlTbmFwc2hvdCIsImRvY3MiLCJoYXNNb3JlIiwibGVuZ3RoIiwicG9wIiwibWlzc2luZ1BlcnNvbnMiLCJtYXAiLCJpZCIsImRhdGEiLCJzZWFyY2hUZXJtIiwic2VhcmNoTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImZpbHRlciIsInBlcnNvbiIsIm5hbWUiLCJpbmNsdWRlcyIsImxvY2F0aW9uIiwiY2FzZU51bWJlciIsImVycm9yIiwiY29uc29sZSIsImdldE1pc3NpbmdQZXJzb24iLCJkb2NSZWYiLCJkb2NTbmFwIiwiZXhpc3RzIiwiYWRkTWlzc2luZ1BlcnNvbiIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJ1cGRhdGVNaXNzaW5nUGVyc29uIiwidXBkYXRlcyIsImRlbGV0ZU1pc3NpbmdQZXJzb24iLCJnZXRTdGF0aXN0aWNzIiwic3RhdHMiLCJ0b3RhbCIsImNhdGVnb3JpZXMiLCJzdGF0dXNlcyIsInN0YXRlcyIsImZvckVhY2giLCJzZWFyY2hNaXNzaW5nUGVyc29ucyIsInJlc3VsdCIsInNsaWNlIiwiZ2V0TWlzc2luZ1BlcnNvbnNCeUNhdGVnb3J5IiwiZ2V0UmVjZW50TWlzc2luZ1BlcnNvbnMiLCJ0aGlydHlEYXlzQWdvIiwic2V0RGF0ZSIsImdldERhdGUiLCJiYXRjaEFkZE1pc3NpbmdQZXJzb25zIiwicGVyc29ucyIsImJhdGNoIiwiUHJvbWlzZSIsImFsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firestore.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@grpc","vendor-chunks/@opentelemetry","vendor-chunks/next","vendor-chunks/protobufjs","vendor-chunks/@firebase","vendor-chunks/@protobufjs","vendor-chunks/csv-parse","vendor-chunks/firebase","vendor-chunks/idb","vendor-chunks/long","vendor-chunks/lodash.camelcase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmissing-persons%2Froute&page=%2Fapi%2Fmissing-persons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmissing-persons%2Froute.ts&appDir=E%3A%5CDownload%5Csavethemnow.Jesus%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CDownload%5Csavethemnow.Jesus&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();